                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 4.2.0 #13081 (MINGW64)
                                      4 ;--------------------------------------------------------
                                      5 	.module akm_player
                                      6 	.optsdcc -mz80
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _AKM_Dummy
                                     12 	.globl _g_AKM_Playing
                                     13 	.globl _g_AKM_EndOfSong
                                     14 	.globl _AKM_Init
                                     15 	.globl _AKM_Stop
                                     16 	.globl _AKM_Decode
                                     17 	.globl _AKM_InitSFX
                                     18 	.globl _AKM_PlaySFX
                                     19 	.globl _AKM_StopSFX
                                     20 ;--------------------------------------------------------
                                     21 ; special function registers
                                     22 ;--------------------------------------------------------
                                     23 ;--------------------------------------------------------
                                     24 ; ram data
                                     25 ;--------------------------------------------------------
                                     26 	.area _DATA
    00000000                         27 _g_AKM_EndOfSong::
    00000000                         28 	.ds 1
                                     29 ;--------------------------------------------------------
                                     30 ; ram data
                                     31 ;--------------------------------------------------------
                                     32 	.area _INITIALIZED
    00000000                         33 _g_AKM_Playing::
    00000000                         34 	.ds 1
                                     35 ;--------------------------------------------------------
                                     36 ; absolute external ram data
                                     37 ;--------------------------------------------------------
                                     38 	.area _DABS (ABS)
                                     39 ;--------------------------------------------------------
                                     40 ; global & static initialisations
                                     41 ;--------------------------------------------------------
                                     42 	.area _HOME
                                     43 	.area _GSINIT
                                     44 	.area _GSFINAL
                                     45 	.area _GSINIT
                                     46 ;--------------------------------------------------------
                                     47 ; Home
                                     48 ;--------------------------------------------------------
                                     49 	.area _HOME
                                     50 	.area _HOME
                                     51 ;--------------------------------------------------------
                                     52 ; code
                                     53 ;--------------------------------------------------------
                                     54 	.area _CODE
                                     55 ;C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c:20: void AKM_Dummy()
                                     56 ;	---------------------------------
                                     57 ; Function AKM_Dummy
                                     58 ; ---------------------------------
    00000000                         59 _AKM_Dummy::
                                     60 ;C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c:1216: ERROR: no line number 1216 in file C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c
                                     61 ;	#	1 "C:\\Users\\reina\\OneDrive\\Documentos\\MSXgl\\engine/src/arkos/akm_player.asm" 1
                                     62 ;	____________________________
                                     63 ;	██▀▀█▀▀██▀▀▀▀▀▀▀█▀▀█ │ ▄▄ ▄▄
                                     64 ;	██ ▀ █▄ ▀██▄ ▀ ▄█ ▄▀▀ █ │ ██▄█ ██▄▀ ██▄▀ ▄█▀▄ ██▀
                                     65 ;	█ █ █ ▀▀ ▄█ █ █ ▀▄█ █▄ │ ██ █ ██ ██ █ ▀█▄▀ ▄██
                                     66 ;	▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀────────┘
                                     67 ;	by Guillaume 'Aoineko' Blanchard under CC BY-SA license
                                     68 ;==============================================================================
                                     69 ;	Autogenerated Arkos AKM player for MSX-GL library
                                     70 ;	on 10/02/2023 at 0:02:37, 04
                                     71 ;
                                     72 ;	Arkos Tracker and the Z80 players are coded and designed
                                     73 ;	by Julien Névo (aka Targhan/Arkos) under MIT License.
                                     74 ;==============================================================================
                         00000001    75 	PLY_AKM_REGISTERS_OFFSETVOLUME	= .+1
                         00000001    76 	PLY_AKM_DATA_OFFSETTRANSPOSITION	= .+1
                         00000001    77 	PLY_AKM_STOP_SOUNDS	= .+1
                         00000002    78 	PLY_AKM_SOUNDEFFECTDATA_OFFSETINVERTEDVOLUME	= .+2
                         00000002    79 	PLY_AKM_DATA_OFFSETPTSTARTTRACK	= .+2
    00000000                         80 	PLY_AKM_START:
    00000000                         81 	_PLY_AKM_INITSOUNDEFFECTS::
    00000000                         82 	PLY_AKM_INITSOUNDEFFECTS:
    00000000                         83 	PLY_AKM_DATA_OFFSETWAITEMPTYCELL:
    00000000                         84 	PLY_AKM_OFFSET2B:
    00000000                         85 	PLY_AKM_OFFSET1B:
    00000000                         86 	PLY_AKM_USE_HOOKS:
    00000000 22 55 F0         [16]   87 	ld	(PLY_AKM_PTSOUNDEFFECTTABLE), hl
    00000003                         88 	PLY_AKM_SOUNDEFFECTDATA_OFFSETCURRENTSTEP:
    00000003 C9               [10]   89 	ret
    00000004                         90 	_PLY_AKM_PLAYSOUNDEFFECT::
    00000004                         91 	PLY_AKM_PLAYSOUNDEFFECT:
    00000004                         92 	PLY_AKM_SOUNDEFFECTDATA_OFFSETSPEED:
    00000004                         93 	PLY_AKM_DATA_OFFSETPTTRACK:
    00000004 3D               [ 4]   94 	dec	a
                         00000006    95 	PLY_AKM_DATA_OFFSETBASENOTE	= .+1
                         00000007    96 	PLY_AKM_DATA_OFFSETESCAPENOTE	= .+2
    00000005                         97 	PLY_AKM_REGISTERS_OFFSETSOFTWAREPERIODLSB:
    00000005 2A 55 F0         [16]   98 	ld	hl, (PLY_AKM_PTSOUNDEFFECTTABLE)
    00000008                         99 	PLY_AKM_DATA_OFFSETESCAPEINSTRUMENT:
    00000008 5F               [ 4]  100 	ld	e, a
                         0000000A   101 	PLY_AKM_DATA_OFFSETPTINSTRUMENT	= .+1
    00000009                        102 	PLY_AKM_DATA_OFFSETESCAPEWAIT:
    00000009                        103 	PLY_AKM_DATA_OFFSETSECONDARYINSTRUMENT:
    00000009                        104 	PLY_AKM_REGISTERS_OFFSETSOFTWAREPERIODMSB:
    00000009 16 00            [ 7]  105 	ld	d, #0x0
    0000000B 19               [11]  106 	add	hl, de
    0000000C                        107 	PLY_AKM_DATA_OFFSETINSTRUMENTCURRENTSTEP:
    0000000C 19               [11]  108 	add	hl, de
    0000000D                        109 	PLY_AKM_DATA_OFFSETINSTRUMENTSPEED:
    0000000D 5E               [ 7]  110 	ld	e, (hl)
    0000000E                        111 	PLY_AKM_DATA_OFFSETTRACKINVERTEDVOLUME:
    0000000E 23               [ 6]  112 	inc	hl
    0000000F                        113 	PLY_AKM_DATA_OFFSETISPITCHUPDOWNUSED:
    0000000F 56               [ 7]  114 	ld	d, (hl)
    00000010                        115 	PLY_AKM_DATA_OFFSETTRACKPITCHINTEGER:
    00000010 1A               [ 7]  116 	ld	a, (de)
    00000011 13               [ 6]  117 	inc	de
    00000012                        118 	PLY_AKM_DATA_OFFSETTRACKPITCHDECIMAL:
    00000012 08               [ 4]  119 	ex	af, af';'
    00000013                        120 	PLY_AKM_DATA_OFFSETTRACKPITCHSPEED:
    00000013 78               [ 4]  121 	ld	a, b
                         00000015   122 	PLY_AKM_DATA_OFFSETISARPEGGIOTABLEUSED	= .+1
                         00000016   123 	PLY_AKM_DATA_OFFSETPTARPEGGIOTABLE	= .+2
    00000014 21 57 F0         [10]  124 	ld	hl, #PLY_AKM_CHANNEL1_SOUNDEFFECTDATA
                         00000018   125 	PLY_AKM_DATA_OFFSETPTARPEGGIOOFFSET	= .+1
    00000017 06 00            [ 7]  126 	ld	b, #0x0
                         0000001A   127 	PLY_AKM_DATA_OFFSETARPEGGIOCURRENTSPEED	= .+1
    00000019                        128 	PLY_AKM_DATA_OFFSETARPEGGIOCURRENTSTEP:
    00000019 CB 21            [ 8]  129 	sla	c
                         0000001C   130 	PLY_AKM_DATA_OFFSETCURRENTARPEGGIOVALUE	= .+1
    0000001B                        131 	PLY_AKM_DATA_OFFSETARPEGGIOORIGINALSPEED:
    0000001B CB 21            [ 8]  132 	sla	c
                         0000001E   133 	PLY_AKM_DATA_OFFSETPTPITCHTABLE	= .+1
    0000001D                        134 	PLY_AKM_DATA_OFFSETISPITCHTABLEUSED:
    0000001D CB 21            [ 8]  135 	sla	c
    0000001F 09               [11]  136 	add	hl, bc
    00000020                        137 	PLY_AKM_DATA_OFFSETPTPITCHOFFSET:
    00000020 73               [ 7]  138 	ld	(hl), e
    00000021                        139 	PLY_AKM_DATA_OFFSETPITCHCURRENTSTEP:
    00000021 23               [ 6]  140 	inc	hl
    00000022                        141 	PLY_AKM_DATA_OFFSETPITCHCURRENTSPEED:
    00000022 72               [ 7]  142 	ld	(hl), d
    00000023                        143 	PLY_AKM_DATA_OFFSETPITCHORIGINALSPEED:
    00000023 23               [ 6]  144 	inc	hl
    00000024                        145 	PLY_AKM_DATA_OFFSETCURRENTPITCHTABLEVALUE:
    00000024 77               [ 7]  146 	ld	(hl), a
    00000025 23               [ 6]  147 	inc	hl
    00000026 36 00            [10]  148 	ld	(hl), #0x0
    00000028 23               [ 6]  149 	inc	hl
    00000029 08               [ 4]  150 	ex	af, af';'
    0000002A 77               [ 7]  151 	ld	(hl), a
    0000002B C9               [10]  152 	ret
    0000002C                        153 	_PLY_AKM_STOPSOUNDEFFECTFROMCHANNEL::
    0000002C                        154 	PLY_AKM_STOPSOUNDEFFECTFROMCHANNEL:
    0000002C 87               [ 4]  155 	add	a, a
    0000002D 87               [ 4]  156 	add	a, a
    0000002E 87               [ 4]  157 	add	a, a
    0000002F 5F               [ 4]  158 	ld	e, a
    00000030 16 00            [ 7]  159 	ld	d, #0x0
    00000032 21 57 F0         [10]  160 	ld	hl, #PLY_AKM_CHANNEL1_SOUNDEFFECTDATA
    00000035 19               [11]  161 	add	hl, de
    00000036 72               [ 7]  162 	ld	(hl), d
    00000037 23               [ 6]  163 	inc	hl
    00000038 72               [ 7]  164 	ld	(hl), d
    00000039 C9               [10]  165 	ret
    0000003A                        166 	PLY_AKM_PLAYSOUNDEFFECTSSTREAM:
    0000003A 17               [ 4]  167 	rla
    0000003B 17               [ 4]  168 	rla
    0000003C DD 21 57 F0      [14]  169 	ld	ix, #PLY_AKM_CHANNEL1_SOUNDEFFECTDATA
    00000040 FD 21 1D F0      [14]  170 	ld	iy, #PLY_AKM_TRACK1_REGISTERS
    00000044 4F               [ 4]  171 	ld	c, a
    00000045 CDr68r00         [17]  172 	call	PLY_AKM_PSES_PLAY
    00000048 DD 21 5F F0      [14]  173 	ld	ix, #PLY_AKM_CHANNEL2_SOUNDEFFECTDATA
    0000004C FD 21 29 F0      [14]  174 	ld	iy, #PLY_AKM_TRACK2_REGISTERS
    00000050 CB 39            [ 8]  175 	srl	c
    00000052 CDr68r00         [17]  176 	call	PLY_AKM_PSES_PLAY
    00000055 DD 21 67 F0      [14]  177 	ld	ix, #PLY_AKM_CHANNEL3_SOUNDEFFECTDATA
    00000059 FD 21 35 F0      [14]  178 	ld	iy, #PLY_AKM_TRACK3_REGISTERS
    0000005D 37               [ 4]  179 	scf
    0000005E CB 19            [ 8]  180 	rr	c
    00000060 CDr68r00         [17]  181 	call	PLY_AKM_PSES_PLAY
    00000063 79               [ 4]  182 	ld	a, c
    00000064 32 46 F0         [13]  183 	ld	(PLY_AKM_MIXERREGISTER), a
    00000067 C9               [10]  184 	ret
    00000068                        185 	PLY_AKM_PSES_PLAY:
    00000068 DD 6E 00         [19]  186 	ld	l, +0(ix)
    0000006B DD 66 01         [19]  187 	ld	h, +1(ix)
    0000006E 7D               [ 4]  188 	ld	a, l
    0000006F B4               [ 4]  189 	or	h
    00000070 C8               [11]  190 	ret	z
    00000071                        191 	PLY_AKM_PSES_READFIRSTBYTE:
    00000071 7E               [ 7]  192 	ld	a, (hl)
    00000072 23               [ 6]  193 	inc	hl
    00000073 47               [ 4]  194 	ld	b, a
    00000074 1F               [ 4]  195 	rra
    00000075 38 41            [12]  196 	jr	c, PLY_AKM_PSES_SOFTWAREORSOFTWAREANDHARDWARE
    00000077 1F               [ 4]  197 	rra
    00000078 38 37            [12]  198 	jr	c, PLY_AKM_PSES_HARDWAREONLY
    0000007A 1F               [ 4]  199 	rra
    0000007B 38 0C            [12]  200 	jr	c, PLY_AKM_PSES_S_ENDORLOOP
    0000007D CDr15r01         [17]  201 	call	PLY_AKM_PSES_MANAGEVOLUMEFROMA_FILTER4BITS
    00000080 CB 10            [ 8]  202 	rl	b
    00000082 CDrF2r00         [17]  203 	call	PLY_AKM_PSES_READNOISEIFNEEDEDANDOPENORCLOSENOISECHANNEL
    00000085 CB D1            [ 8]  204 	set	2, c
    00000087 18 11            [12]  205 	jr	PLY_AKM_PSES_SAVEPOINTERANDEXIT
    00000089                        206 	PLY_AKM_PSES_S_ENDORLOOP:
    00000089 1F               [ 4]  207 	rra
    0000008A 38 08            [12]  208 	jr	c, PLY_AKM_PSES_S_LOOP
    0000008C AF               [ 4]  209 	xor	a
    0000008D DD 77 00         [19]  210 	ld	+0(ix), a
    00000090 DD 77 01         [19]  211 	ld	+1(ix), a
    00000093 C9               [10]  212 	ret
    00000094                        213 	PLY_AKM_PSES_S_LOOP:
    00000094 7E               [ 7]  214 	ld	a, (hl)
    00000095 23               [ 6]  215 	inc	hl
    00000096 66               [ 7]  216 	ld	h, (hl)
    00000097 6F               [ 4]  217 	ld	l, a
    00000098 18 D7            [12]  218 	jr	PLY_AKM_PSES_READFIRSTBYTE
    0000009A                        219 	PLY_AKM_PSES_SAVEPOINTERANDEXIT:
    0000009A DD 7E 03         [19]  220 	ld	a, +3(ix)
    0000009D DD BE 04         [19]  221 	cp	+4(ix)
    000000A0 38 0B            [12]  222 	jr	c, PLY_AKM_PSES_NOTREACHED
    000000A2 DD 36 03 00      [19]  223 	ld	+3(ix), #0x0
    000000A6 DD                     224 	.db	0xdd
    000000A7 75                     225 	.db	0x75
    000000A8 00                     226 	.db	0x0
    000000A9 DD                     227 	.db	0xdd
    000000AA 74                     228 	.db	0x74
    000000AB 01                     229 	.db	0x1
    000000AC C9               [10]  230 	ret
    000000AD                        231 	PLY_AKM_PSES_NOTREACHED:
    000000AD DD 34 03         [23]  232 	inc	+3(ix)
    000000B0 C9               [10]  233 	ret
    000000B1                        234 	PLY_AKM_PSES_HARDWAREONLY:
    000000B1 CDrD4r00         [17]  235 	call	PLY_AKM_PSES_SHARED_READRETRIGHARDWAREENVPERIODNOISE
    000000B4 CB D1            [ 8]  236 	set	2, c
    000000B6 18 E2            [12]  237 	jr	PLY_AKM_PSES_SAVEPOINTERANDEXIT
    000000B8                        238 	PLY_AKM_PSES_SOFTWAREORSOFTWAREANDHARDWARE:
    000000B8 1F               [ 4]  239 	rra
    000000B9 38 0F            [12]  240 	jr	c, PLY_AKM_PSES_SOFTWAREANDHARDWARE
    000000BB CDr15r01         [17]  241 	call	PLY_AKM_PSES_MANAGEVOLUMEFROMA_FILTER4BITS
    000000BE CB 10            [ 8]  242 	rl	b
    000000C0 CDrF2r00         [17]  243 	call	PLY_AKM_PSES_READNOISEIFNEEDEDANDOPENORCLOSENOISECHANNEL
    000000C3 CB 91            [ 8]  244 	res	2, c
    000000C5 CDr0Ar01         [17]  245 	call	PLY_AKM_PSES_READSOFTWAREPERIOD
    000000C8 18 D0            [12]  246 	jr	PLY_AKM_PSES_SAVEPOINTERANDEXIT
    000000CA                        247 	PLY_AKM_PSES_SOFTWAREANDHARDWARE:
    000000CA CDrD4r00         [17]  248 	call	PLY_AKM_PSES_SHARED_READRETRIGHARDWAREENVPERIODNOISE
    000000CD CDr0Ar01         [17]  249 	call	PLY_AKM_PSES_READSOFTWAREPERIOD
    000000D0 CB 91            [ 8]  250 	res	2, c
    000000D2 18 C6            [12]  251 	jr	PLY_AKM_PSES_SAVEPOINTERANDEXIT
    000000D4                        252 	PLY_AKM_PSES_SHARED_READRETRIGHARDWAREENVPERIODNOISE:
    000000D4 1F               [ 4]  253 	rra
    000000D5 30 07            [12]  254 	jr	nc, PLY_AKM_PSES_H_AFTERRETRIG
    000000D7 57               [ 4]  255 	ld	d, a
    000000D8 3E FF            [ 7]  256 	ld	a, #0xff
    000000DA 32 1A F0         [13]  257 	ld	(PLY_AKM_SETREG13OLD), a
    000000DD 7A               [ 4]  258 	ld	a, d
    000000DE                        259 	PLY_AKM_PSES_H_AFTERRETRIG:
    000000DE                        260 	PLY_AKM_ROM_BUFFERSIZE:
    000000DE E6 07            [ 7]  261 	and	#0x7
    000000E0 C6 08            [ 7]  262 	add	a, #0x8
    000000E2 32 1B F0         [13]  263 	ld	(PLY_AKM_SETREG13), a
    000000E5 CB 10            [ 8]  264 	rl	b
    000000E7 CDrF2r00         [17]  265 	call	PLY_AKM_PSES_READNOISEIFNEEDEDANDOPENORCLOSENOISECHANNEL
    000000EA CDrFFr00         [17]  266 	call	PLY_AKM_PSES_READHARDWAREPERIOD
    000000ED 3E 10            [ 7]  267 	ld	a, #0x10
    000000EF C3r17r01         [10]  268 	jp	PLY_AKM_PSES_MANAGEVOLUMEFROMA_HARD
    000000F2                        269 	PLY_AKM_PSES_READNOISEIFNEEDEDANDOPENORCLOSENOISECHANNEL:
    000000F2 38 03            [12]  270 	jr	c, PLY_AKM_PSES_READNOISEANDOPENNOISECHANNEL_OPENNOISE
    000000F4 CB E9            [ 8]  271 	set	5, c
    000000F6 C9               [10]  272 	ret
    000000F7                        273 	PLY_AKM_PSES_READNOISEANDOPENNOISECHANNEL_OPENNOISE:
    000000F7 7E               [ 7]  274 	ld	a, (hl)
    000000F8 32 42 F0         [13]  275 	ld	(PLY_AKM_NOISEREGISTER), a
    000000FB 23               [ 6]  276 	inc	hl
    000000FC CB A9            [ 8]  277 	res	5, c
    000000FE C9               [10]  278 	ret
    000000FF                        279 	PLY_AKM_PSES_READHARDWAREPERIOD:
    000000FF 7E               [ 7]  280 	ld	a, (hl)
    00000100 32 4A F0         [13]  281 	ld	(PLY_AKM_REG11), a
    00000103 23               [ 6]  282 	inc	hl
    00000104 7E               [ 7]  283 	ld	a, (hl)
    00000105 32 4E F0         [13]  284 	ld	(PLY_AKM_REG12), a
    00000108 23               [ 6]  285 	inc	hl
    00000109 C9               [10]  286 	ret
    0000010A                        287 	PLY_AKM_PSES_READSOFTWAREPERIOD:
    0000010A 7E               [ 7]  288 	ld	a, (hl)
    0000010B FD 77 05         [19]  289 	ld	+5(iy), a
    0000010E 23               [ 6]  290 	inc	hl
    0000010F 7E               [ 7]  291 	ld	a, (hl)
    00000110 FD 77 09         [19]  292 	ld	+9(iy), a
    00000113 23               [ 6]  293 	inc	hl
    00000114 C9               [10]  294 	ret
    00000115                        295 	PLY_AKM_PSES_MANAGEVOLUMEFROMA_FILTER4BITS:
    00000115 E6 0F            [ 7]  296 	and	#0xf
    00000117                        297 	PLY_AKM_PSES_MANAGEVOLUMEFROMA_HARD:
    00000117 DD 96 02         [19]  298 	sub	+2(ix)
    0000011A 30 01            [12]  299 	jr	nc, PLY_AKM_PSES_MVFA_NOOVERFLOW
    0000011C AF               [ 4]  300 	xor	a
    0000011D                        301 	PLY_AKM_PSES_MVFA_NOOVERFLOW:
    0000011D FD 77 01         [19]  302 	ld	+1(iy), a
    00000120 C9               [10]  303 	ret
    00000121                        304 	_PLY_AKM_INIT::
    00000121                        305 	PLY_AKM_INIT:
    00000121 11 00 F0         [10]  306 	ld	de, #PLY_AKM_PTINSTRUMENTS
    00000124 ED A0            [16]  307 	ldi
    00000126 ED A0            [16]  308 	ldi
    00000128 11 02 F0         [10]  309 	ld	de, #PLY_AKM_PTARPEGGIOS
    0000012B ED A0            [16]  310 	ldi
    0000012D ED A0            [16]  311 	ldi
    0000012F 11 04 F0         [10]  312 	ld	de, #PLY_AKM_PTPITCHES
    00000132 ED A0            [16]  313 	ldi
    00000134 ED A0            [16]  314 	ldi
    00000136 87               [ 4]  315 	add	a, a
    00000137 5F               [ 4]  316 	ld	e, a
    00000138 16 00            [ 7]  317 	ld	d, #0x0
    0000013A 19               [11]  318 	add	hl, de
    0000013B 7E               [ 7]  319 	ld	a, (hl)
    0000013C 23               [ 6]  320 	inc	hl
    0000013D 66               [ 7]  321 	ld	h, (hl)
    0000013E 6F               [ 4]  322 	ld	l, a
    0000013F DD 21rEEr01      [14]  323 	ld	ix, #PLY_AKM_INITVARS_START
    00000143 3E 0D            [ 7]  324 	ld	a, #0xd
    00000145                        325 	PLY_AKM_INITVARS_LOOP:
    00000145 DD 5E 00         [19]  326 	ld	e, +0(ix)
    00000148 DD 56 01         [19]  327 	ld	d, +1(ix)
    0000014B DD 23            [10]  328 	inc	ix
    0000014D DD 23            [10]  329 	inc	ix
    0000014F ED A0            [16]  330 	ldi
    00000151 3D               [ 4]  331 	dec	a
    00000152 20 F1            [12]  332 	jr	nz, PLY_AKM_INITVARS_LOOP
    00000154 32 16 F0         [13]  333 	ld	(PLY_AKM_PATTERNREMAININGHEIGHT), a
    00000157 EB               [ 4]  334 	ex	de, hl
    00000158 21 06 F0         [10]  335 	ld	hl, #PLY_AKM_PTLINKER
    0000015B 73               [ 7]  336 	ld	(hl), e
    0000015C 23               [ 6]  337 	inc	hl
    0000015D 72               [ 7]  338 	ld	(hl), d
    0000015E 21 6C F0         [10]  339 	ld	hl, #PLY_AKM_TRACK1_WAITEMPTYCELL
    00000161 11 6D F0         [10]  340 	ld	de, #PLY_AKM_TRACK1_TRANSPOSITION
    00000164 01 71 00         [10]  341 	ld	bc, #0x71
    00000167 77               [ 7]  342 	ld	(hl), a
    00000168 ED B0            [21]  343 	ldir
    0000016A 32 1C F0         [13]  344 	ld	(PLY_AKM_RT_READEFFECTSFLAG), a
    0000016D 3A 18 F0         [13]  345 	ld	a, (PLY_AKM_SPEED)
    00000170 3D               [ 4]  346 	dec	a
    00000171 32 19 F0         [13]  347 	ld	(PLY_AKM_TICKCOUNTER), a
    00000174 2A 00 F0         [16]  348 	ld	hl, (PLY_AKM_PTINSTRUMENTS)
    00000177 5E               [ 7]  349 	ld	e, (hl)
    00000178 23               [ 6]  350 	inc	hl
    00000179 56               [ 7]  351 	ld	d, (hl)
    0000017A 13               [ 6]  352 	inc	de
    0000017B ED 53 76 F0      [20]  353 	ld	(PLY_AKM_TRACK1_PTINSTRUMENT), de
    0000017F ED 53 9C F0      [20]  354 	ld	(PLY_AKM_TRACK2_PTINSTRUMENT), de
    00000183 ED 53 C2 F0      [20]  355 	ld	(PLY_AKM_TRACK3_PTINSTRUMENT), de
    00000187 21 00 00         [10]  356 	ld	hl, #0x0
    0000018A 22 57 F0         [16]  357 	ld	(PLY_AKM_CHANNEL1_SOUNDEFFECTDATA), hl
    0000018D 22 5F F0         [16]  358 	ld	(PLY_AKM_CHANNEL2_SOUNDEFFECTDATA), hl
    00000190 22 67 F0         [16]  359 	ld	(PLY_AKM_CHANNEL3_SOUNDEFFECTDATA), hl
    00000193 DD 21rE1r01      [14]  360 	ld	ix, #PLY_AKM_REGISTERSFORROM
    00000197 FD 21 1D F0      [14]  361 	ld	iy, #PLY_AKM_TRACK1_REGISTERS
    0000019B 01r12r03         [10]  362 	ld	bc, #PLY_AKM_SENDPSGREGISTER
    0000019E 11 04 00         [10]  363 	ld	de, #0x4
    000001A1                        364 	PLY_AKM_INITROM_LOOP:
    000001A1 DD 7E 00         [19]  365 	ld	a, +0(ix)
    000001A4 67               [ 4]  366 	ld	h, a
    000001A5 DD 23            [10]  367 	inc	ix
    000001A7 E6 3F            [ 7]  368 	and	#0x3f
    000001A9 FD 77 00         [19]  369 	ld	+0(iy), a
    000001AC FD 36 01 00      [19]  370 	ld	+1(iy), #0x0
    000001B0 7C               [ 4]  371 	ld	a, h
    000001B1 E6 C0            [ 7]  372 	and	#0xc0
    000001B3 20 0A            [12]  373 	jr	nz, PLY_AKM_INITROM_SPECIAL
    000001B5 FD 71 02         [19]  374 	ld	+2(iy), c
    000001B8 FD 70 03         [19]  375 	ld	+3(iy), b
    000001BB FD 19            [15]  376 	add	iy, de
    000001BD 18 E2            [12]  377 	jr	PLY_AKM_INITROM_LOOP
    000001BF                        378 	PLY_AKM_INITROM_SPECIAL:
    000001BF CB 14            [ 8]  379 	rl	h
    000001C1 38 14            [12]  380 	jr	c, PLY_AKM_INITROM_WRITEENDCODE
    000001C3 01r1Ar03         [10]  381 	ld	bc, #PLY_AKM_SENDPSGREGISTERR13
    000001C6 FD 71 02         [19]  382 	ld	+2(iy), c
    000001C9 FD 70 03         [19]  383 	ld	+3(iy), b
    000001CC 01r13r03         [10]  384 	ld	bc, #PLY_AKM_SENDPSGREGISTERAFTERPOP
    000001CF FD 71 04         [19]  385 	ld	+4(iy), c
    000001D2 FD 70 05         [19]  386 	ld	+5(iy), b
    000001D5 FD 19            [15]  387 	add	iy, de
    000001D7                        388 	PLY_AKM_INITROM_WRITEENDCODE:
    000001D7 01r2Br03         [10]  389 	ld	bc, #PLY_AKM_SENDPSGREGISTEREND
    000001DA FD 71 02         [19]  390 	ld	+2(iy), c
    000001DD FD 70 03         [19]  391 	ld	+3(iy), b
    000001E0 C9               [10]  392 	ret
    000001E1                        393 	PLY_AKM_REGISTERSFORROM:
    000001E1 08                     394 	.db	0x8
    000001E2 00                     395 	.db	0x0
    000001E3 01                     396 	.db	0x1
    000001E4 09                     397 	.db	0x9
    000001E5 02                     398 	.db	0x2
    000001E6 03                     399 	.db	0x3
    000001E7 0A                     400 	.db	0xa
    000001E8 04                     401 	.db	0x4
    000001E9 05                     402 	.db	0x5
    000001EA 06                     403 	.db	0x6
    000001EB 07                     404 	.db	0x7
    000001EC 0B                     405 	.db	0xb
    000001ED 4C                     406 	.db	0x4c
    000001EE                        407 	PLY_AKM_INITVARS_START:
    000001EE 08 F0                  408 	.dw	PLY_AKM_NOTEINDEXTABLE
    000001F0 09 F0                  409 	.dw	PLY_AKM_NOTEINDEXTABLE+1
    000001F2 0A F0                  410 	.dw	PLY_AKM_TRACKINDEX
    000001F4 0B F0                  411 	.dw	PLY_AKM_TRACKINDEX+1
    000001F6 18 F0                  412 	.dw	PLY_AKM_SPEED
    000001F8 11 F0                  413 	.dw	PLY_AKM_PRIMARYINSTRUMENT
    000001FA 12 F0                  414 	.dw	PLY_AKM_SECONDARYINSTRUMENT
    000001FC 13 F0                  415 	.dw	PLY_AKM_PRIMARYWAIT
    000001FE 14 F0                  416 	.dw	PLY_AKM_SECONDARYWAIT
    00000200 0E F0                  417 	.dw	PLY_AKM_DEFAULTSTARTNOTEINTRACKS
    00000202 0F F0                  418 	.dw	PLY_AKM_DEFAULTSTARTINSTRUMENTINTRACKS
    00000204 10 F0                  419 	.dw	PLY_AKM_DEFAULTSTARTWAITINTRACKS
    00000206 15 F0                  420 	.dw	PLY_AKM_FLAGNOTEANDEFFECTINCELL
    00000208                        421 	PLY_AKM_INITVARS_END:
    00000208                        422 	_PLY_AKM_STOP::
    00000208                        423 	PLY_AKM_STOP:
    00000208 ED 73 0C F0      [20]  424 	ld	(PLY_AKM_SAVESP), sp
    0000020C AF               [ 4]  425 	xor	a
    0000020D 32 1E F0         [13]  426 	ld	(PLY_AKM_TRACK1_VOLUME), a
    00000210 32 2A F0         [13]  427 	ld	(PLY_AKM_TRACK2_VOLUME), a
    00000213 32 36 F0         [13]  428 	ld	(PLY_AKM_TRACK3_VOLUME), a
    00000216 3E BF            [ 7]  429 	ld	a, #0xbf
    00000218 32 46 F0         [13]  430 	ld	(PLY_AKM_MIXERREGISTER), a
    0000021B C3r0Fr03         [10]  431 	jp	PLY_AKM_SENDPSG
    0000021E                        432 	_PLY_AKM_PLAY::
    0000021E                        433 	PLY_AKM_PLAY:
    0000021E ED 73 0C F0      [20]  434 	ld	(PLY_AKM_SAVESP), sp
    00000222 3A 18 F0         [13]  435 	ld	a, (PLY_AKM_SPEED)
    00000225 47               [ 4]  436 	ld	b, a
    00000226 3A 19 F0         [13]  437 	ld	a, (PLY_AKM_TICKCOUNTER)
    00000229 3C               [ 4]  438 	inc	a
    0000022A B8               [ 4]  439 	cp	b
    0000022B C2rD3r02         [10]  440 	jp	nz, PLY_AKM_TICKCOUNTERMANAGED
    0000022E 3A 16 F0         [13]  441 	ld	a, (PLY_AKM_PATTERNREMAININGHEIGHT)
    00000231 D6 01            [ 7]  442 	sub	#0x1
    00000233 38 05            [12]  443 	jr	c, PLY_AKM_LINKER
    00000235 32 16 F0         [13]  444 	ld	(PLY_AKM_PATTERNREMAININGHEIGHT), a
    00000238 18 7A            [12]  445 	jr	PLY_AKM_READLINE
    0000023A                        446 	PLY_AKM_LINKER:
    0000023A ED 5B 0A F0      [20]  447 	ld	de, (PLY_AKM_TRACKINDEX)
    0000023E D9               [ 4]  448 	exx
    0000023F 2A 06 F0         [16]  449 	ld	hl, (PLY_AKM_PTLINKER)
    00000242                        450 	PLY_AKM_LINKERPOSTPT:
    00000242 AF               [ 4]  451 	xor	a
    00000243 32 6C F0         [13]  452 	ld	(PLY_AKM_TRACK1_WAITEMPTYCELL), a
    00000246 32 92 F0         [13]  453 	ld	(PLY_AKM_TRACK2_WAITEMPTYCELL), a
    00000249 32 B8 F0         [13]  454 	ld	(PLY_AKM_TRACK3_WAITEMPTYCELL), a
    0000024C 3A 0E F0         [13]  455 	ld	a, (PLY_AKM_DEFAULTSTARTNOTEINTRACKS)
    0000024F 32 73 F0         [13]  456 	ld	(PLY_AKM_TRACK1_ESCAPENOTE), a
    00000252 32 99 F0         [13]  457 	ld	(PLY_AKM_TRACK2_ESCAPENOTE), a
    00000255 32 BF F0         [13]  458 	ld	(PLY_AKM_TRACK3_ESCAPENOTE), a
    00000258 3A 0F F0         [13]  459 	ld	a, (PLY_AKM_DEFAULTSTARTINSTRUMENTINTRACKS)
    0000025B 32 74 F0         [13]  460 	ld	(PLY_AKM_TRACK1_ESCAPEINSTRUMENT), a
    0000025E 32 9A F0         [13]  461 	ld	(PLY_AKM_TRACK2_ESCAPEINSTRUMENT), a
    00000261 32 C0 F0         [13]  462 	ld	(PLY_AKM_TRACK3_ESCAPEINSTRUMENT), a
    00000264 3A 10 F0         [13]  463 	ld	a, (PLY_AKM_DEFAULTSTARTWAITINTRACKS)
    00000267 32 75 F0         [13]  464 	ld	(PLY_AKM_TRACK1_ESCAPEWAIT), a
    0000026A 32 9B F0         [13]  465 	ld	(PLY_AKM_TRACK2_ESCAPEWAIT), a
    0000026D 32 C1 F0         [13]  466 	ld	(PLY_AKM_TRACK3_ESCAPEWAIT), a
    00000270 46               [ 7]  467 	ld	b, (hl)
    00000271 23               [ 6]  468 	inc	hl
    00000272 CB 18            [ 8]  469 	rr	b
    00000274 30 15            [12]  470 	jr	nc, PLY_AKM_LINKERAFTERSPEEDCHANGE
    00000276 7E               [ 7]  471 	ld	a, (hl)
    00000277 23               [ 6]  472 	inc	hl
    00000278 B7               [ 4]  473 	or	a
    00000279 20 0D            [12]  474 	jr	nz, PLY_AKM_LINKERSPEEDCHANGE
                                    475 ;	MSXgl - Start
    0000027B F5               [11]  476 	push	af
    0000027C 3E 01            [ 7]  477 	ld	a, #1
    0000027E 32r00r00         [13]  478 	ld	(_g_AKM_EndOfSong), a
    00000281 F1               [10]  479 	pop	af
                                    480 ;	MSXgl - End
    00000282 7E               [ 7]  481 	ld	a, (hl)
    00000283 23               [ 6]  482 	inc	hl
    00000284 66               [ 7]  483 	ld	h, (hl)
    00000285 6F               [ 4]  484 	ld	l, a
    00000286 18 BA            [12]  485 	jr	PLY_AKM_LINKERPOSTPT
    00000288                        486 	PLY_AKM_LINKERSPEEDCHANGE:
    00000288 32 18 F0         [13]  487 	ld	(PLY_AKM_SPEED), a
    0000028B                        488 	PLY_AKM_LINKERAFTERSPEEDCHANGE:
    0000028B CB 18            [ 8]  489 	rr	b
    0000028D 30 07            [12]  490 	jr	nc, PLY_AKM_LINKERUSEPREVIOUSHEIGHT
    0000028F 7E               [ 7]  491 	ld	a, (hl)
    00000290 23               [ 6]  492 	inc	hl
    00000291 32 17 F0         [13]  493 	ld	(PLY_AKM_LINKERPREVIOUSREMAININGHEIGHT), a
    00000294 18 03            [12]  494 	jr	PLY_AKM_LINKERSETREMAININGHEIGHT
    00000296                        495 	PLY_AKM_LINKERUSEPREVIOUSHEIGHT:
    00000296 3A 17 F0         [13]  496 	ld	a, (PLY_AKM_LINKERPREVIOUSREMAININGHEIGHT)
    00000299                        497 	PLY_AKM_LINKERSETREMAININGHEIGHT:
    00000299 32 16 F0         [13]  498 	ld	(PLY_AKM_PATTERNREMAININGHEIGHT), a
    0000029C DD 21 6C F0      [14]  499 	ld	ix, #PLY_AKM_TRACK1_WAITEMPTYCELL
    000002A0 CDr30r03         [17]  500 	call	PLY_AKM_CHECKTRANSPOSITIONANDTRACK
    000002A3 DD 21 92 F0      [14]  501 	ld	ix, #PLY_AKM_TRACK2_WAITEMPTYCELL
    000002A7 CDr30r03         [17]  502 	call	PLY_AKM_CHECKTRANSPOSITIONANDTRACK
    000002AA DD 21 B8 F0      [14]  503 	ld	ix, #PLY_AKM_TRACK3_WAITEMPTYCELL
    000002AE CDr30r03         [17]  504 	call	PLY_AKM_CHECKTRANSPOSITIONANDTRACK
    000002B1 22 06 F0         [16]  505 	ld	(PLY_AKM_PTLINKER), hl
    000002B4                        506 	PLY_AKM_READLINE:
    000002B4 ED 5B 00 F0      [20]  507 	ld	de, (PLY_AKM_PTINSTRUMENTS)
    000002B8 ED 4B 08 F0      [20]  508 	ld	bc, (PLY_AKM_NOTEINDEXTABLE)
    000002BC D9               [ 4]  509 	exx
    000002BD DD 21 6C F0      [14]  510 	ld	ix, #PLY_AKM_TRACK1_WAITEMPTYCELL
    000002C1 CDr7Cr03         [17]  511 	call	PLY_AKM_READTRACK
    000002C4 DD 21 92 F0      [14]  512 	ld	ix, #PLY_AKM_TRACK2_WAITEMPTYCELL
    000002C8 CDr7Cr03         [17]  513 	call	PLY_AKM_READTRACK
    000002CB DD 21 B8 F0      [14]  514 	ld	ix, #PLY_AKM_TRACK3_WAITEMPTYCELL
    000002CF CDr7Cr03         [17]  515 	call	PLY_AKM_READTRACK
    000002D2 AF               [ 4]  516 	xor	a
    000002D3                        517 	PLY_AKM_TICKCOUNTERMANAGED:
    000002D3 32 19 F0         [13]  518 	ld	(PLY_AKM_TICKCOUNTER), a
    000002D6 11r1Cr07         [10]  519 	ld	de, #PLY_AKM_PERIODTABLE
    000002D9 D9               [ 4]  520 	exx
    000002DA 0E E0            [ 7]  521 	ld	c, #0xe0
    000002DC DD 21 6C F0      [14]  522 	ld	ix, #PLY_AKM_TRACK1_WAITEMPTYCELL
    000002E0 CDr90r04         [17]  523 	call	PLY_AKM_MANAGEEFFECTS
    000002E3 FD 21 1D F0      [14]  524 	ld	iy, #PLY_AKM_TRACK1_REGISTERS
    000002E7 CDr2Fr05         [17]  525 	call	PLY_AKM_PLAYSOUNDSTREAM
    000002EA CB 39            [ 8]  526 	srl	c
    000002EC DD 21 92 F0      [14]  527 	ld	ix, #PLY_AKM_TRACK2_WAITEMPTYCELL
    000002F0 CDr90r04         [17]  528 	call	PLY_AKM_MANAGEEFFECTS
    000002F3 FD 21 29 F0      [14]  529 	ld	iy, #PLY_AKM_TRACK2_REGISTERS
    000002F7 CDr2Fr05         [17]  530 	call	PLY_AKM_PLAYSOUNDSTREAM
    000002FA 37               [ 4]  531 	scf
    000002FB CB 19            [ 8]  532 	rr	c
    000002FD DD 21 B8 F0      [14]  533 	ld	ix, #PLY_AKM_TRACK3_WAITEMPTYCELL
    00000301 CDr90r04         [17]  534 	call	PLY_AKM_MANAGEEFFECTS
    00000304 FD 21 35 F0      [14]  535 	ld	iy, #PLY_AKM_TRACK3_REGISTERS
    00000308 CDr2Fr05         [17]  536 	call	PLY_AKM_PLAYSOUNDSTREAM
    0000030B 79               [ 4]  537 	ld	a, c
    0000030C CDr3Ar00         [17]  538 	call	PLY_AKM_PLAYSOUNDEFFECTSSTREAM
    0000030F                        539 	PLY_AKM_SENDPSG:
    0000030F 31 1D F0         [10]  540 	ld	sp, #PLY_AKM_TRACK1_REGISTERS
    00000312                        541 	PLY_AKM_SENDPSGREGISTER:
    00000312 E1               [10]  542 	pop	hl
    00000313                        543 	PLY_AKM_SENDPSGREGISTERAFTERPOP:
    00000313 7D               [ 4]  544 	ld	a, l
    00000314 D3 A0            [11]  545 	out	(0xa0), a
    00000316 7C               [ 4]  546 	ld	a, h
    00000317 D3 A1            [11]  547 	out	(0xa1), a
    00000319 C9               [10]  548 	ret
    0000031A                        549 	PLY_AKM_SENDPSGREGISTERR13:
    0000031A 3A 1A F0         [13]  550 	ld	a, (PLY_AKM_SETREG13OLD)
    0000031D 47               [ 4]  551 	ld	b, a
    0000031E 3A 1B F0         [13]  552 	ld	a, (PLY_AKM_SETREG13)
    00000321 B8               [ 4]  553 	cp	b
    00000322 28 07            [12]  554 	jr	z, PLY_AKM_SENDPSGREGISTEREND
    00000324 32 1A F0         [13]  555 	ld	(PLY_AKM_SETREG13OLD), a
    00000327 67               [ 4]  556 	ld	h, a
    00000328 2E 0D            [ 7]  557 	ld	l, #0xd
    0000032A C9               [10]  558 	ret
    0000032B                        559 	PLY_AKM_SENDPSGREGISTEREND:
    0000032B ED 7B 0C F0      [20]  560 	ld	sp, (PLY_AKM_SAVESP)
    0000032F C9               [10]  561 	ret
    00000330                        562 	PLY_AKM_CHECKTRANSPOSITIONANDTRACK:
    00000330 CB 18            [ 8]  563 	rr	b
    00000332 30 05            [12]  564 	jr	nc, PLY_AKM_CHECKTRANSPOSITIONANDTRACK_AFTERTRANSPOSITION
    00000334 7E               [ 7]  565 	ld	a, (hl)
    00000335 DD 77 01         [19]  566 	ld	+1(ix), a
    00000338 23               [ 6]  567 	inc	hl
    00000339                        568 	PLY_AKM_CHECKTRANSPOSITIONANDTRACK_AFTERTRANSPOSITION:
    00000339 CB 18            [ 8]  569 	rr	b
    0000033B 30 32            [12]  570 	jr	nc, PLY_AKM_CHECKTRANSPOSITIONANDTRACK_NONEWTRACK
    0000033D 7E               [ 7]  571 	ld	a, (hl)
    0000033E 23               [ 6]  572 	inc	hl
    0000033F CB 27            [ 8]  573 	sla	a
    00000341 30 16            [12]  574 	jr	nc, PLY_AKM_CHECKTRANSPOSITIONANDTRACK_TRACKOFFSET
    00000343 D9               [ 4]  575 	exx
    00000344 6F               [ 4]  576 	ld	l, a
    00000345 26 00            [ 7]  577 	ld	h, #0x0
    00000347 19               [11]  578 	add	hl, de
    00000348 7E               [ 7]  579 	ld	a, (hl)
    00000349 DD 77 02         [19]  580 	ld	+2(ix), a
    0000034C DD 77 04         [19]  581 	ld	+4(ix), a
    0000034F 23               [ 6]  582 	inc	hl
    00000350 7E               [ 7]  583 	ld	a, (hl)
    00000351 DD 77 03         [19]  584 	ld	+3(ix), a
    00000354 DD 77 05         [19]  585 	ld	+5(ix), a
    00000357 D9               [ 4]  586 	exx
    00000358 C9               [10]  587 	ret
    00000359                        588 	PLY_AKM_CHECKTRANSPOSITIONANDTRACK_TRACKOFFSET:
    00000359 1F               [ 4]  589 	rra
    0000035A 57               [ 4]  590 	ld	d, a
    0000035B 5E               [ 7]  591 	ld	e, (hl)
    0000035C 23               [ 6]  592 	inc	hl
    0000035D 4D               [ 4]  593 	ld	c, l
    0000035E 7C               [ 4]  594 	ld	a, h
    0000035F 19               [11]  595 	add	hl, de
    00000360 DD                     596 	.db	0xdd
    00000361 75                     597 	.db	0x75
    00000362 02                     598 	.db	0x2
    00000363 DD                     599 	.db	0xdd
    00000364 74                     600 	.db	0x74
    00000365 03                     601 	.db	0x3
    00000366 DD                     602 	.db	0xdd
    00000367 75                     603 	.db	0x75
    00000368 04                     604 	.db	0x4
    00000369 DD                     605 	.db	0xdd
    0000036A 74                     606 	.db	0x74
    0000036B 05                     607 	.db	0x5
    0000036C 69               [ 4]  608 	ld	l, c
    0000036D 67               [ 4]  609 	ld	h, a
    0000036E C9               [10]  610 	ret
    0000036F                        611 	PLY_AKM_CHECKTRANSPOSITIONANDTRACK_NONEWTRACK:
    0000036F DD 7E 02         [19]  612 	ld	a, +2(ix)
    00000372 DD 77 04         [19]  613 	ld	+4(ix), a
    00000375 DD 7E 03         [19]  614 	ld	a, +3(ix)
    00000378 DD 77 05         [19]  615 	ld	+5(ix), a
    0000037B C9               [10]  616 	ret
    0000037C                        617 	PLY_AKM_READTRACK:
    0000037C DD 7E 00         [19]  618 	ld	a, +0(ix)
    0000037F D6 01            [ 7]  619 	sub	#0x1
    00000381 38 04            [12]  620 	jr	c, PLY_AKM_RT_NOEMPTYCELL
    00000383 DD 77 00         [19]  621 	ld	+0(ix), a
    00000386 C9               [10]  622 	ret
    00000387                        623 	PLY_AKM_RT_NOEMPTYCELL:
    00000387 DD 6E 04         [19]  624 	ld	l, +4(ix)
    0000038A DD 66 05         [19]  625 	ld	h, +5(ix)
    0000038D                        626 	PLY_AKM_RT_GETDATABYTE:
    0000038D 46               [ 7]  627 	ld	b, (hl)
    0000038E 23               [ 6]  628 	inc	hl
    0000038F 3A 15 F0         [13]  629 	ld	a, (PLY_AKM_FLAGNOTEANDEFFECTINCELL)
    00000392 4F               [ 4]  630 	ld	c, a
    00000393 78               [ 4]  631 	ld	a, b
    00000394 E6 0F            [ 7]  632 	and	#0xf
    00000396 B9               [ 4]  633 	cp	c
    00000397 38 26            [12]  634 	jr	c, PLY_AKM_RT_NOTEREFERENCE
    00000399 D6 0C            [ 7]  635 	sub	#0xc
    0000039B 28 12            [12]  636 	jr	z, PLY_AKM_RT_NOTEANDEFFECTS
    0000039D 3D               [ 4]  637 	dec	a
    0000039E 28 15            [12]  638 	jr	z, PLY_AKM_RT_NONOTEMAYBEEFFECTS
    000003A0 3D               [ 4]  639 	dec	a
    000003A1 28 05            [12]  640 	jr	z, PLY_AKM_RT_NEWESCAPENOTE
    000003A3 DD 7E 07         [19]  641 	ld	a, +7(ix)
    000003A6 18 1E            [12]  642 	jr	PLY_AKM_RT_AFTERNOTEREAD
    000003A8                        643 	PLY_AKM_RT_NEWESCAPENOTE:
    000003A8 7E               [ 7]  644 	ld	a, (hl)
    000003A9 DD 77 07         [19]  645 	ld	+7(ix), a
    000003AC 23               [ 6]  646 	inc	hl
    000003AD 18 17            [12]  647 	jr	PLY_AKM_RT_AFTERNOTEREAD
    000003AF                        648 	PLY_AKM_RT_NOTEANDEFFECTS:
    000003AF 3D               [ 4]  649 	dec	a
    000003B0 32 1C F0         [13]  650 	ld	(PLY_AKM_RT_READEFFECTSFLAG), a
    000003B3 18 D8            [12]  651 	jr	PLY_AKM_RT_GETDATABYTE
    000003B5                        652 	PLY_AKM_RT_NONOTEMAYBEEFFECTS:
    000003B5 CB 60            [ 8]  653 	bit	4, b
    000003B7 28 6F            [12]  654 	jr	z, PLY_AKM_RT_READWAITFLAGS
    000003B9 78               [ 4]  655 	ld	a, b
    000003BA 32 1C F0         [13]  656 	ld	(PLY_AKM_RT_READEFFECTSFLAG), a
    000003BD 18 69            [12]  657 	jr	PLY_AKM_RT_READWAITFLAGS
    000003BF                        658 	PLY_AKM_RT_NOTEREFERENCE:
    000003BF D9               [ 4]  659 	exx
    000003C0 6F               [ 4]  660 	ld	l, a
    000003C1 26 00            [ 7]  661 	ld	h, #0x0
    000003C3 09               [11]  662 	add	hl, bc
    000003C4 7E               [ 7]  663 	ld	a, (hl)
    000003C5 D9               [ 4]  664 	exx
    000003C6                        665 	PLY_AKM_RT_AFTERNOTEREAD:
    000003C6 DD 86 01         [19]  666 	add	a, +1(ix)
    000003C9 DD 77 06         [19]  667 	ld	+6(ix), a
    000003CC 78               [ 4]  668 	ld	a, b
    000003CD E6 30            [ 7]  669 	and	#0x30
    000003CF 28 0F            [12]  670 	jr	z, PLY_AKM_RT_SAMEESCAPEINSTRUMENT
    000003D1 FE 10            [ 7]  671 	cp	#0x10
    000003D3 28 15            [12]  672 	jr	z, PLY_AKM_RT_PRIMARYINSTRUMENT
    000003D5 FE 20            [ 7]  673 	cp	#0x20
    000003D7 28 0C            [12]  674 	jr	z, PLY_AKM_RT_SECONDARYINSTRUMENT
    000003D9 7E               [ 7]  675 	ld	a, (hl)
    000003DA 23               [ 6]  676 	inc	hl
    000003DB DD 77 08         [19]  677 	ld	+8(ix), a
    000003DE 18 0D            [12]  678 	jr	PLY_AKM_RT_STORECURRENTINSTRUMENT
    000003E0                        679 	PLY_AKM_RT_SAMEESCAPEINSTRUMENT:
    000003E0 DD 7E 08         [19]  680 	ld	a, +8(ix)
    000003E3 18 08            [12]  681 	jr	PLY_AKM_RT_STORECURRENTINSTRUMENT
    000003E5                        682 	PLY_AKM_RT_SECONDARYINSTRUMENT:
    000003E5 3A 12 F0         [13]  683 	ld	a, (PLY_AKM_SECONDARYINSTRUMENT)
    000003E8 18 03            [12]  684 	jr	PLY_AKM_RT_STORECURRENTINSTRUMENT
    000003EA                        685 	PLY_AKM_RT_PRIMARYINSTRUMENT:
    000003EA 3A 11 F0         [13]  686 	ld	a, (PLY_AKM_PRIMARYINSTRUMENT)
    000003ED                        687 	PLY_AKM_RT_STORECURRENTINSTRUMENT:
    000003ED D9               [ 4]  688 	exx
    000003EE 87               [ 4]  689 	add	a, a
    000003EF 6F               [ 4]  690 	ld	l, a
    000003F0 26 00            [ 7]  691 	ld	h, #0x0
    000003F2 19               [11]  692 	add	hl, de
    000003F3 7E               [ 7]  693 	ld	a, (hl)
    000003F4 23               [ 6]  694 	inc	hl
    000003F5 66               [ 7]  695 	ld	h, (hl)
    000003F6 6F               [ 4]  696 	ld	l, a
    000003F7 7E               [ 7]  697 	ld	a, (hl)
    000003F8 23               [ 6]  698 	inc	hl
    000003F9 DD 77 0D         [19]  699 	ld	+13(ix), a
    000003FC DD                     700 	.db	0xdd
    000003FD 75                     701 	.db	0x75
    000003FE 0A                     702 	.db	0xa
    000003FF DD                     703 	.db	0xdd
    00000400 74                     704 	.db	0x74
    00000401 0B                     705 	.db	0xb
    00000402 D9               [ 4]  706 	exx
    00000403 AF               [ 4]  707 	xor	a
    00000404 DD 77 0C         [19]  708 	ld	+12(ix), a
    00000407 DD 77 0F         [19]  709 	ld	+15(ix), a
    0000040A DD 77 10         [19]  710 	ld	+16(ix), a
    0000040D DD 77 11         [19]  711 	ld	+17(ix), a
    00000410 DD 77 18         [19]  712 	ld	+24(ix), a
    00000413 DD 77 19         [19]  713 	ld	+25(ix), a
    00000416 DD 7E 1B         [19]  714 	ld	a, +27(ix)
    00000419 DD 77 1A         [19]  715 	ld	+26(ix), a
    0000041C DD 77 20         [19]  716 	ld	+32(ix), a
    0000041F DD 77 21         [19]  717 	ld	+33(ix), a
    00000422 DD 7E 23         [19]  718 	ld	a, +35(ix)
    00000425 DD 77 22         [19]  719 	ld	+34(ix), a
    00000428                        720 	PLY_AKM_RT_READWAITFLAGS:
    00000428 78               [ 4]  721 	ld	a, b
    00000429 E6 C0            [ 7]  722 	and	#0xc0
    0000042B 28 0F            [12]  723 	jr	z, PLY_AKM_RT_SAMEESCAPEWAIT
    0000042D FE 40            [ 7]  724 	cp	#0x40
    0000042F 28 10            [12]  725 	jr	z, PLY_AKM_RT_PRIMARYWAIT
    00000431 FE 80            [ 7]  726 	cp	#0x80
    00000433 28 11            [12]  727 	jr	z, PLY_AKM_RT_SECONDARYWAIT
    00000435 7E               [ 7]  728 	ld	a, (hl)
    00000436 23               [ 6]  729 	inc	hl
    00000437 DD 77 09         [19]  730 	ld	+9(ix), a
    0000043A 18 0D            [12]  731 	jr	PLY_AKM_RT_STORECURRENTWAIT
    0000043C                        732 	PLY_AKM_RT_SAMEESCAPEWAIT:
    0000043C DD 7E 09         [19]  733 	ld	a, +9(ix)
    0000043F 18 08            [12]  734 	jr	PLY_AKM_RT_STORECURRENTWAIT
    00000441                        735 	PLY_AKM_RT_PRIMARYWAIT:
    00000441 3A 13 F0         [13]  736 	ld	a, (PLY_AKM_PRIMARYWAIT)
    00000444 18 03            [12]  737 	jr	PLY_AKM_RT_STORECURRENTWAIT
    00000446                        738 	PLY_AKM_RT_SECONDARYWAIT:
    00000446 3A 14 F0         [13]  739 	ld	a, (PLY_AKM_SECONDARYWAIT)
    00000449                        740 	PLY_AKM_RT_STORECURRENTWAIT:
    00000449 DD 77 00         [19]  741 	ld	+0(ix), a
    0000044C 3A 1C F0         [13]  742 	ld	a, (PLY_AKM_RT_READEFFECTSFLAG)
    0000044F B7               [ 4]  743 	or	a
    00000450 20 07            [12]  744 	jr	nz, PLY_AKM_RT_READEFFECTS
    00000452                        745 	PLY_AKM_RT_AFTEREFFECTS:
    00000452 DD                     746 	.db	0xdd
    00000453 75                     747 	.db	0x75
    00000454 04                     748 	.db	0x4
    00000455 DD                     749 	.db	0xdd
    00000456 74                     750 	.db	0x74
    00000457 05                     751 	.db	0x5
    00000458 C9               [10]  752 	ret
    00000459                        753 	PLY_AKM_RT_READEFFECTS:
    00000459 AF               [ 4]  754 	xor	a
    0000045A 32 1C F0         [13]  755 	ld	(PLY_AKM_RT_READEFFECTSFLAG), a
    0000045D                        756 	PLY_AKM_RT_READEFFECT:
    0000045D FD 21r7Cr06      [14]  757 	ld	iy, #PLY_AKM_EFFECTTABLE
    00000461 46               [ 7]  758 	ld	b, (hl)
    00000462 78               [ 4]  759 	ld	a, b
    00000463 23               [ 6]  760 	inc	hl
    00000464 E6 0E            [ 7]  761 	and	#0xe
    00000466 5F               [ 4]  762 	ld	e, a
    00000467 16 00            [ 7]  763 	ld	d, #0x0
    00000469 FD 19            [15]  764 	add	iy, de
    0000046B 78               [ 4]  765 	ld	a, b
    0000046C 1F               [ 4]  766 	rra
    0000046D 1F               [ 4]  767 	rra
    0000046E 1F               [ 4]  768 	rra
    0000046F 1F               [ 4]  769 	rra
    00000470 E6 0F            [ 7]  770 	and	#0xf
    00000472 FD E9            [ 8]  771 	jp	(iy)
    00000474                        772 	PLY_AKM_RT_READEFFECT_RETURN:
    00000474 CB 40            [ 8]  773 	bit	0, b
    00000476 20 E5            [12]  774 	jr	nz, PLY_AKM_RT_READEFFECT
    00000478 18 D8            [12]  775 	jr	PLY_AKM_RT_AFTEREFFECTS
    0000047A                        776 	PLY_AKM_RT_WAITLONG:
    0000047A 7E               [ 7]  777 	ld	a, (hl)
    0000047B 23               [ 6]  778 	inc	hl
    0000047C DD 77 00         [19]  779 	ld	+0(ix), a
    0000047F 18 08            [12]  780 	jr	PLY_AKM_RT_CELLREAD
    00000481                        781 	PLY_AKM_RT_WAITSHORT:
    00000481 78               [ 4]  782 	ld	a, b
    00000482 07               [ 4]  783 	rlca
    00000483 07               [ 4]  784 	rlca
    00000484 E6 03            [ 7]  785 	and	#0x3
    00000486 DD 77 00         [19]  786 	ld	+0(ix), a
    00000489                        787 	PLY_AKM_RT_CELLREAD:
    00000489 DD                     788 	.db	0xdd
    0000048A 75                     789 	.db	0x75
    0000048B 04                     790 	.db	0x4
    0000048C DD                     791 	.db	0xdd
    0000048D 74                     792 	.db	0x74
    0000048E 05                     793 	.db	0x5
    0000048F C9               [10]  794 	ret
    00000490                        795 	PLY_AKM_MANAGEEFFECTS:
    00000490 DD 7E 0F         [19]  796 	ld	a, +15(ix)
    00000493 B7               [ 4]  797 	or	a
    00000494 28 28            [12]  798 	jr	z, PLY_AKM_ME_PITCHUPDOWNFINISHED
    00000496 DD 6E 12         [19]  799 	ld	l, +18(ix)
    00000499 DD 66 10         [19]  800 	ld	h, +16(ix)
    0000049C DD 5E 13         [19]  801 	ld	e, +19(ix)
    0000049F DD 56 14         [19]  802 	ld	d, +20(ix)
    000004A2 DD 7E 11         [19]  803 	ld	a, +17(ix)
    000004A5 CB 7A            [ 8]  804 	bit	7, d
    000004A7 20 05            [12]  805 	jr	nz, PLY_AKM_ME_PITCHUPDOWN_NEGATIVESPEED
    000004A9                        806 	PLY_AKM_ME_PITCHUPDOWN_POSITIVESPEED:
    000004A9 19               [11]  807 	add	hl, de
    000004AA CE 00            [ 7]  808 	adc	a, #0x0
    000004AC 18 07            [12]  809 	jr	PLY_AKM_ME_PITCHUPDOWN_SAVE
    000004AE                        810 	PLY_AKM_ME_PITCHUPDOWN_NEGATIVESPEED:
    000004AE CB BA            [ 8]  811 	res	7, d
    000004B0 B7               [ 4]  812 	or	a
    000004B1 ED 52            [15]  813 	sbc	hl, de
    000004B3 DE 00            [ 7]  814 	sbc	a, #0x0
    000004B5                        815 	PLY_AKM_ME_PITCHUPDOWN_SAVE:
    000004B5 DD 77 11         [19]  816 	ld	+17(ix), a
    000004B8 DD                     817 	.db	0xdd
    000004B9 75                     818 	.db	0x75
    000004BA 12                     819 	.db	0x12
    000004BB DD                     820 	.db	0xdd
    000004BC 74                     821 	.db	0x74
    000004BD 10                     822 	.db	0x10
    000004BE                        823 	PLY_AKM_ME_PITCHUPDOWNFINISHED:
    000004BE DD 7E 15         [19]  824 	ld	a, +21(ix)
    000004C1 B7               [ 4]  825 	or	a
    000004C2 28 30            [12]  826 	jr	z, PLY_AKM_ME_ARPEGGIOTABLEFINISHED
    000004C4 DD 5E 16         [19]  827 	ld	e, +22(ix)
    000004C7 DD 56 17         [19]  828 	ld	d, +23(ix)
    000004CA DD 6E 18         [19]  829 	ld	l, +24(ix)
    000004CD 26 00            [ 7]  830 	ld	h, #0x0
    000004CF 19               [11]  831 	add	hl, de
    000004D0 7E               [ 7]  832 	ld	a, (hl)
    000004D1 CB 2F            [ 8]  833 	sra	a
    000004D3 DD 77 1C         [19]  834 	ld	+28(ix), a
    000004D6 DD 7E 19         [19]  835 	ld	a, +25(ix)
    000004D9 DD BE 1A         [19]  836 	cp	+26(ix)
    000004DC 38 12            [12]  837 	jr	c, PLY_AKM_ME_ARPEGGIOTABLE_SPEEDNOTREACHED
    000004DE DD 36 19 00      [19]  838 	ld	+25(ix), #0x0
    000004E2 DD 34 18         [23]  839 	inc	+24(ix)
    000004E5 23               [ 6]  840 	inc	hl
    000004E6 7E               [ 7]  841 	ld	a, (hl)
    000004E7 1F               [ 4]  842 	rra
    000004E8 30 0A            [12]  843 	jr	nc, PLY_AKM_ME_ARPEGGIOTABLEFINISHED
    000004EA 6F               [ 4]  844 	ld	l, a
    000004EB DD 77 18         [19]  845 	ld	+24(ix), a
    000004EE 18 04            [12]  846 	jr	PLY_AKM_ME_ARPEGGIOTABLEFINISHED
    000004F0                        847 	PLY_AKM_ME_ARPEGGIOTABLE_SPEEDNOTREACHED:
    000004F0 3C               [ 4]  848 	inc	a
    000004F1 DD 77 19         [19]  849 	ld	+25(ix), a
    000004F4                        850 	PLY_AKM_ME_ARPEGGIOTABLEFINISHED:
    000004F4 DD 7E 1D         [19]  851 	ld	a, +29(ix)
    000004F7 B7               [ 4]  852 	or	a
    000004F8 C8               [11]  853 	ret	z
    000004F9 DD 6E 1E         [19]  854 	ld	l, +30(ix)
    000004FC DD 66 1F         [19]  855 	ld	h, +31(ix)
    000004FF DD 5E 20         [19]  856 	ld	e, +32(ix)
    00000502 16 00            [ 7]  857 	ld	d, #0x0
    00000504 19               [11]  858 	add	hl, de
    00000505 7E               [ 7]  859 	ld	a, (hl)
    00000506 CB 2F            [ 8]  860 	sra	a
    00000508 F2r0Cr05         [10]  861 	jp	p, PLY_AKM_ME_PITCHTABLEENDNOTREACHED_POSITIVE
    0000050B 15               [ 4]  862 	dec	d
    0000050C                        863 	PLY_AKM_ME_PITCHTABLEENDNOTREACHED_POSITIVE:
    0000050C DD 77 24         [19]  864 	ld	+36(ix), a
    0000050F DD                     865 	.db	0xdd
    00000510 72                     866 	.db	0x72
    00000511 25                     867 	.db	0x25
    00000512 DD 7E 21         [19]  868 	ld	a, +33(ix)
    00000515 DD BE 22         [19]  869 	cp	+34(ix)
    00000518 38 10            [12]  870 	jr	c, PLY_AKM_ME_PITCHTABLE_SPEEDNOTREACHED
    0000051A DD 36 21 00      [19]  871 	ld	+33(ix), #0x0
    0000051E DD 34 20         [23]  872 	inc	+32(ix)
    00000521 23               [ 6]  873 	inc	hl
    00000522 7E               [ 7]  874 	ld	a, (hl)
    00000523 1F               [ 4]  875 	rra
    00000524 D0               [11]  876 	ret	nc
    00000525 6F               [ 4]  877 	ld	l, a
    00000526 DD 77 20         [19]  878 	ld	+32(ix), a
    00000529 C9               [10]  879 	ret
    0000052A                        880 	PLY_AKM_ME_PITCHTABLE_SPEEDNOTREACHED:
    0000052A 3C               [ 4]  881 	inc	a
    0000052B DD 77 21         [19]  882 	ld	+33(ix), a
    0000052E C9               [10]  883 	ret
    0000052F                        884 	PLY_AKM_PLAYSOUNDSTREAM:
    0000052F DD 6E 0A         [19]  885 	ld	l, +10(ix)
    00000532 DD 66 0B         [19]  886 	ld	h, +11(ix)
    00000535                        887 	PLY_AKM_PSS_READFIRSTBYTE:
    00000535 7E               [ 7]  888 	ld	a, (hl)
    00000536 47               [ 4]  889 	ld	b, a
    00000537 23               [ 6]  890 	inc	hl
    00000538 1F               [ 4]  891 	rra
    00000539 38 21            [12]  892 	jr	c, PLY_AKM_PSS_SOFTORSOFTANDHARD
    0000053B 1F               [ 4]  893 	rra
    0000053C 38 6C            [12]  894 	jr	c, PLY_AKM_PSS_SOFTWARETOHARDWARE
    0000053E 1F               [ 4]  895 	rra
    0000053F 30 0C            [12]  896 	jr	nc, PLY_AKM_PSS_NSNH_NOTENDOFSOUND
    00000541 7E               [ 7]  897 	ld	a, (hl)
    00000542 23               [ 6]  898 	inc	hl
    00000543 66               [ 7]  899 	ld	h, (hl)
    00000544 6F               [ 4]  900 	ld	l, a
    00000545 DD                     901 	.db	0xdd
    00000546 75                     902 	.db	0x75
    00000547 0A                     903 	.db	0xa
    00000548 DD                     904 	.db	0xdd
    00000549 74                     905 	.db	0x74
    0000054A 0B                     906 	.db	0xb
    0000054B 18 E8            [12]  907 	jr	PLY_AKM_PSS_READFIRSTBYTE
    0000054D                        908 	PLY_AKM_PSS_NSNH_NOTENDOFSOUND:
    0000054D CB D1            [ 8]  909 	set	2, c
    0000054F CDrEFr05         [17]  910 	call	PLY_AKM_PSS_SHARED_ADJUSTVOLUME
    00000552 FD 77 01         [19]  911 	ld	+1(iy), a
    00000555 CB 10            [ 8]  912 	rl	b
    00000557 DCrF7r05         [17]  913 	call	c, PLY_AKM_PSS_READNOISE
    0000055A 18 28            [12]  914 	jr	PLY_AKM_PSS_SHARED_STOREINSTRUMENTPOINTER
    0000055C                        915 	PLY_AKM_PSS_SOFTORSOFTANDHARD:
    0000055C 1F               [ 4]  916 	rra
    0000055D 38 3C            [12]  917 	jr	c, PLY_AKM_PSS_SOFTANDHARD
    0000055F CDrEFr05         [17]  918 	call	PLY_AKM_PSS_SHARED_ADJUSTVOLUME
    00000562 FD 77 01         [19]  919 	ld	+1(iy), a
    00000565 16 00            [ 7]  920 	ld	d, #0x0
    00000567 CB 10            [ 8]  921 	rl	b
    00000569 30 08            [12]  922 	jr	nc, PLY_AKM_PSS_S_AFTERARPANDORNOISE
    0000056B 7E               [ 7]  923 	ld	a, (hl)
    0000056C 23               [ 6]  924 	inc	hl
    0000056D CB 2F            [ 8]  925 	sra	a
    0000056F 57               [ 4]  926 	ld	d, a
    00000570 DCrF7r05         [17]  927 	call	c, PLY_AKM_PSS_READNOISE
    00000573                        928 	PLY_AKM_PSS_S_AFTERARPANDORNOISE:
    00000573 7A               [ 4]  929 	ld	a, d
    00000574 CDrFFr05         [17]  930 	call	PLY_AKM_CALCULATEPERIODFORBASENOTE
    00000577 CB 10            [ 8]  931 	rl	b
    00000579 DCr3Cr06         [17]  932 	call	c, PLY_AKM_READPITCHANDADDTOPERIOD
    0000057C D9               [ 4]  933 	exx
    0000057D FD 75 05         [19]  934 	ld	+5(iy), l
    00000580 FD 74 09         [19]  935 	ld	+9(iy), h
    00000583 D9               [ 4]  936 	exx
    00000584                        937 	PLY_AKM_PSS_SHARED_STOREINSTRUMENTPOINTER:
    00000584 DD 7E 0C         [19]  938 	ld	a, +12(ix)
    00000587 DD BE 0D         [19]  939 	cp	+13(ix)
    0000058A 30 04            [12]  940 	jr	nc, PLY_AKM_PSS_S_SPEEDREACHED
    0000058C DD 34 0C         [23]  941 	inc	+12(ix)
    0000058F C9               [10]  942 	ret
    00000590                        943 	PLY_AKM_PSS_S_SPEEDREACHED:
    00000590 DD                     944 	.db	0xdd
    00000591 75                     945 	.db	0x75
    00000592 0A                     946 	.db	0xa
    00000593 DD                     947 	.db	0xdd
    00000594 74                     948 	.db	0x74
    00000595 0B                     949 	.db	0xb
    00000596 DD 36 0C 00      [19]  950 	ld	+12(ix), #0x0
    0000059A C9               [10]  951 	ret
    0000059B                        952 	PLY_AKM_PSS_SOFTANDHARD:
    0000059B CDrCCr05         [17]  953 	call	PLY_AKM_PSS_SHARED_READENVBITPITCHARP_SOFTPERIOD_HARDVOL_HARDENV
    0000059E 7E               [ 7]  954 	ld	a, (hl)
    0000059F 32 4A F0         [13]  955 	ld	(PLY_AKM_REG11), a
    000005A2 23               [ 6]  956 	inc	hl
    000005A3 7E               [ 7]  957 	ld	a, (hl)
    000005A4 32 4E F0         [13]  958 	ld	(PLY_AKM_REG12), a
    000005A7 23               [ 6]  959 	inc	hl
    000005A8 18 DA            [12]  960 	jr	PLY_AKM_PSS_SHARED_STOREINSTRUMENTPOINTER
    000005AA                        961 	PLY_AKM_PSS_SOFTWARETOHARDWARE:
    000005AA CDrCCr05         [17]  962 	call	PLY_AKM_PSS_SHARED_READENVBITPITCHARP_SOFTPERIOD_HARDVOL_HARDENV
    000005AD 78               [ 4]  963 	ld	a, b
    000005AE 07               [ 4]  964 	rlca
    000005AF 07               [ 4]  965 	rlca
    000005B0 07               [ 4]  966 	rlca
    000005B1 07               [ 4]  967 	rlca
    000005B2 E6 07            [ 7]  968 	and	#0x7
    000005B4 D9               [ 4]  969 	exx
    000005B5 28 0A            [12]  970 	jr	z, PLY_AKM_PSS_STH_RATIOEND
    000005B7                        971 	PLY_AKM_PSS_STH_RATIOLOOP:
    000005B7 CB 3C            [ 8]  972 	srl	h
    000005B9 CB 1D            [ 8]  973 	rr	l
    000005BB 3D               [ 4]  974 	dec	a
    000005BC 20 F9            [12]  975 	jr	nz, PLY_AKM_PSS_STH_RATIOLOOP
    000005BE 30 01            [12]  976 	jr	nc, PLY_AKM_PSS_STH_RATIOEND
    000005C0 23               [ 6]  977 	inc	hl
    000005C1                        978 	PLY_AKM_PSS_STH_RATIOEND:
    000005C1 7D               [ 4]  979 	ld	a, l
    000005C2 32 4A F0         [13]  980 	ld	(PLY_AKM_REG11), a
    000005C5 7C               [ 4]  981 	ld	a, h
    000005C6 32 4E F0         [13]  982 	ld	(PLY_AKM_REG12), a
    000005C9 D9               [ 4]  983 	exx
    000005CA 18 B8            [12]  984 	jr	PLY_AKM_PSS_SHARED_STOREINSTRUMENTPOINTER
    000005CC                        985 	PLY_AKM_PSS_SHARED_READENVBITPITCHARP_SOFTPERIOD_HARDVOL_HARDENV:
    000005CC E6 02            [ 7]  986 	and	#0x2
    000005CE C6 08            [ 7]  987 	add	a, #0x8
    000005D0 32 1B F0         [13]  988 	ld	(PLY_AKM_SETREG13), a
    000005D3 FD 36 01 10      [19]  989 	ld	+1(iy), #0x10
    000005D7 AF               [ 4]  990 	xor	a
    000005D8 CB 78            [ 8]  991 	bit	7, b
    000005DA 28 02            [12]  992 	jr	z, PLY_AKM_PSS_SHARED_RENVBAP_AFTERARPEGGIO
    000005DC 7E               [ 7]  993 	ld	a, (hl)
    000005DD 23               [ 6]  994 	inc	hl
    000005DE                        995 	PLY_AKM_PSS_SHARED_RENVBAP_AFTERARPEGGIO:
    000005DE CDrFFr05         [17]  996 	call	PLY_AKM_CALCULATEPERIODFORBASENOTE
    000005E1 CB 50            [ 8]  997 	bit	2, b
    000005E3 C4r3Cr06         [17]  998 	call	nz, PLY_AKM_READPITCHANDADDTOPERIOD
    000005E6 D9               [ 4]  999 	exx
    000005E7 FD 75 05         [19] 1000 	ld	+5(iy), l
    000005EA FD 74 09         [19] 1001 	ld	+9(iy), h
    000005ED D9               [ 4] 1002 	exx
    000005EE C9               [10] 1003 	ret
    000005EF                       1004 	PLY_AKM_PSS_SHARED_ADJUSTVOLUME:
    000005EF E6 0F            [ 7] 1005 	and	#0xf
    000005F1 DD 96 0E         [19] 1006 	sub	+14(ix)
    000005F4 D0               [11] 1007 	ret	nc
    000005F5 AF               [ 4] 1008 	xor	a
    000005F6 C9               [10] 1009 	ret
    000005F7                       1010 	PLY_AKM_PSS_READNOISE:
    000005F7 7E               [ 7] 1011 	ld	a, (hl)
    000005F8 23               [ 6] 1012 	inc	hl
    000005F9 32 42 F0         [13] 1013 	ld	(PLY_AKM_NOISEREGISTER), a
    000005FC CB A9            [ 8] 1014 	res	5, c
    000005FE C9               [10] 1015 	ret
    000005FF                       1016 	PLY_AKM_CALCULATEPERIODFORBASENOTE:
    000005FF D9               [ 4] 1017 	exx
    00000600 26 00            [ 7] 1018 	ld	h, #0x0
    00000602 DD 86 06         [19] 1019 	add	a, +6(ix)
    00000605 DD 86 1C         [19] 1020 	add	a, +28(ix)
    00000608 01 0C FF         [10] 1021 	ld	bc, #0xff0c
    0000060B                       1022 	PLY_AKM_FINDOCTAVE_LOOP:
    0000060B 04               [ 4] 1023 	inc	b
    0000060C 91               [ 4] 1024 	sub	c
    0000060D 30 FC            [12] 1025 	jr	nc, PLY_AKM_FINDOCTAVE_LOOP
    0000060F 81               [ 4] 1026 	add	a, c
    00000610 87               [ 4] 1027 	add	a, a
    00000611 6F               [ 4] 1028 	ld	l, a
    00000612 26 00            [ 7] 1029 	ld	h, #0x0
    00000614 19               [11] 1030 	add	hl, de
    00000615 7E               [ 7] 1031 	ld	a, (hl)
    00000616 23               [ 6] 1032 	inc	hl
    00000617 66               [ 7] 1033 	ld	h, (hl)
    00000618 6F               [ 4] 1034 	ld	l, a
    00000619 78               [ 4] 1035 	ld	a, b
    0000061A B7               [ 4] 1036 	or	a
    0000061B 28 06            [12] 1037 	jr	z, PLY_AKM_FINDOCTAVE_OCTAVESHIFTLOOP_FINISHED
    0000061D                       1038 	PLY_AKM_FINDOCTAVE_OCTAVESHIFTLOOP:
    0000061D CB 3C            [ 8] 1039 	srl	h
    0000061F CB 1D            [ 8] 1040 	rr	l
    00000621 10 FA            [13] 1041 	djnz	PLY_AKM_FINDOCTAVE_OCTAVESHIFTLOOP
    00000623                       1042 	PLY_AKM_FINDOCTAVE_OCTAVESHIFTLOOP_FINISHED:
    00000623 30 01            [12] 1043 	jr	nc, PLY_AKM_FINDOCTAVE_FINISHED
    00000625 23               [ 6] 1044 	inc	hl
    00000626                       1045 	PLY_AKM_FINDOCTAVE_FINISHED:
    00000626 DD 7E 1D         [19] 1046 	ld	a, +29(ix)
    00000629 B7               [ 4] 1047 	or	a
    0000062A 28 07            [12] 1048 	jr	z, PLY_AKM_CALCULATEPERIODFORBASENOTE_NOPITCHTABLE
    0000062C DD 4E 24         [19] 1049 	ld	c, +36(ix)
    0000062F DD 46 25         [19] 1050 	ld	b, +37(ix)
    00000632 09               [11] 1051 	add	hl, bc
    00000633                       1052 	PLY_AKM_CALCULATEPERIODFORBASENOTE_NOPITCHTABLE:
    00000633 DD 4E 10         [19] 1053 	ld	c, +16(ix)
    00000636 DD 46 11         [19] 1054 	ld	b, +17(ix)
    00000639 09               [11] 1055 	add	hl, bc
    0000063A D9               [ 4] 1056 	exx
    0000063B C9               [10] 1057 	ret
    0000063C                       1058 	PLY_AKM_READPITCHANDADDTOPERIOD:
    0000063C 7E               [ 7] 1059 	ld	a, (hl)
    0000063D 23               [ 6] 1060 	inc	hl
    0000063E D9               [ 4] 1061 	exx
    0000063F 4F               [ 4] 1062 	ld	c, a
    00000640 D9               [ 4] 1063 	exx
    00000641 7E               [ 7] 1064 	ld	a, (hl)
    00000642 23               [ 6] 1065 	inc	hl
    00000643 D9               [ 4] 1066 	exx
    00000644 47               [ 4] 1067 	ld	b, a
    00000645 09               [11] 1068 	add	hl, bc
    00000646 D9               [ 4] 1069 	exx
    00000647 C9               [10] 1070 	ret
    00000648                       1071 	PLY_AKM_EFFECTRESETWITHVOLUME:
    00000648 DD 77 0E         [19] 1072 	ld	+14(ix), a
    0000064B AF               [ 4] 1073 	xor	a
    0000064C DD 77 0F         [19] 1074 	ld	+15(ix), a
    0000064F DD 77 15         [19] 1075 	ld	+21(ix), a
    00000652 DD 77 1C         [19] 1076 	ld	+28(ix), a
    00000655 DD 77 1D         [19] 1077 	ld	+29(ix), a
    00000658 C3r74r04         [10] 1078 	jp	PLY_AKM_RT_READEFFECT_RETURN
    0000065B                       1079 	PLY_AKM_EFFECTVOLUME:
    0000065B DD 77 0E         [19] 1080 	ld	+14(ix), a
    0000065E C3r74r04         [10] 1081 	jp	PLY_AKM_RT_READEFFECT_RETURN
    00000661                       1082 	PLY_AKM_EFFECTFORCEINSTRUMENTSPEED:
    00000661 CDr16r07         [17] 1083 	call	PLY_AKM_EFFECTREADIFESCAPE
    00000664 DD 77 0D         [19] 1084 	ld	+13(ix), a
    00000667 C3r74r04         [10] 1085 	jp	PLY_AKM_RT_READEFFECT_RETURN
    0000066A                       1086 	PLY_AKM_EFFECTFORCEPITCHSPEED:
    0000066A CDr16r07         [17] 1087 	call	PLY_AKM_EFFECTREADIFESCAPE
    0000066D DD 77 22         [19] 1088 	ld	+34(ix), a
    00000670 C3r74r04         [10] 1089 	jp	PLY_AKM_RT_READEFFECT_RETURN
    00000673                       1090 	PLY_AKM_EFFECTFORCEARPEGGIOSPEED:
    00000673 CDr16r07         [17] 1091 	call	PLY_AKM_EFFECTREADIFESCAPE
    00000676 DD 77 1A         [19] 1092 	ld	+26(ix), a
    00000679 C3r74r04         [10] 1093 	jp	PLY_AKM_RT_READEFFECT_RETURN
    0000067C                       1094 	PLY_AKM_EFFECTTABLE:
    0000067C 18 CA            [12] 1095 	jr	PLY_AKM_EFFECTRESETWITHVOLUME
    0000067E 18 DB            [12] 1096 	jr	PLY_AKM_EFFECTVOLUME
    00000680 18 0A            [12] 1097 	jr	PLY_AKM_EFFECTPITCHUPDOWN
    00000682 18 23            [12] 1098 	jr	PLY_AKM_EFFECTARPEGGIOTABLE
    00000684 18 5B            [12] 1099 	jr	PLY_AKM_EFFECTPITCHTABLE
    00000686 18 D9            [12] 1100 	jr	PLY_AKM_EFFECTFORCEINSTRUMENTSPEED
    00000688 18 E9            [12] 1101 	jr	PLY_AKM_EFFECTFORCEARPEGGIOSPEED
    0000068A 18 DE            [12] 1102 	jr	PLY_AKM_EFFECTFORCEPITCHSPEED
    0000068C                       1103 	PLY_AKM_EFFECTPITCHUPDOWN:
    0000068C 1F               [ 4] 1104 	rra
    0000068D 30 11            [12] 1105 	jr	nc, PLY_AKM_EFFECTPITCHUPDOWN_DEACTIVATED
    0000068F DD 36 0F FF      [19] 1106 	ld	+15(ix), #0xff
    00000693 7E               [ 7] 1107 	ld	a, (hl)
    00000694 23               [ 6] 1108 	inc	hl
    00000695 DD 77 13         [19] 1109 	ld	+19(ix), a
    00000698 7E               [ 7] 1110 	ld	a, (hl)
    00000699 23               [ 6] 1111 	inc	hl
    0000069A DD 77 14         [19] 1112 	ld	+20(ix), a
    0000069D C3r74r04         [10] 1113 	jp	PLY_AKM_RT_READEFFECT_RETURN
    000006A0                       1114 	PLY_AKM_EFFECTPITCHUPDOWN_DEACTIVATED:
    000006A0 DD 36 0F 00      [19] 1115 	ld	+15(ix), #0x0
    000006A4 C3r74r04         [10] 1116 	jp	PLY_AKM_RT_READEFFECT_RETURN
    000006A7                       1117 	PLY_AKM_EFFECTARPEGGIOTABLE:
    000006A7 CDr16r07         [17] 1118 	call	PLY_AKM_EFFECTREADIFESCAPE
    000006AA DD 77 15         [19] 1119 	ld	+21(ix), a
    000006AD B7               [ 4] 1120 	or	a
    000006AE 28 2B            [12] 1121 	jr	z, PLY_AKM_EFFECTARPEGGIOTABLE_STOP
    000006B0 87               [ 4] 1122 	add	a, a
    000006B1 D9               [ 4] 1123 	exx
    000006B2 6F               [ 4] 1124 	ld	l, a
    000006B3 26 00            [ 7] 1125 	ld	h, #0x0
    000006B5 ED 4B 02 F0      [20] 1126 	ld	bc, (PLY_AKM_PTARPEGGIOS)
    000006B9 09               [11] 1127 	add	hl, bc
    000006BA 7E               [ 7] 1128 	ld	a, (hl)
    000006BB 23               [ 6] 1129 	inc	hl
    000006BC 66               [ 7] 1130 	ld	h, (hl)
    000006BD 6F               [ 4] 1131 	ld	l, a
    000006BE 7E               [ 7] 1132 	ld	a, (hl)
    000006BF 23               [ 6] 1133 	inc	hl
    000006C0 DD 77 1B         [19] 1134 	ld	+27(ix), a
    000006C3 DD 77 1A         [19] 1135 	ld	+26(ix), a
    000006C6 DD                    1136 	.db	0xdd
    000006C7 75                    1137 	.db	0x75
    000006C8 16                    1138 	.db	0x16
    000006C9 DD                    1139 	.db	0xdd
    000006CA 74                    1140 	.db	0x74
    000006CB 17                    1141 	.db	0x17
    000006CC ED 4B 08 F0      [20] 1142 	ld	bc, (PLY_AKM_NOTEINDEXTABLE)
    000006D0 D9               [ 4] 1143 	exx
    000006D1 AF               [ 4] 1144 	xor	a
    000006D2 DD 77 18         [19] 1145 	ld	+24(ix), a
    000006D5 DD 77 19         [19] 1146 	ld	+25(ix), a
    000006D8 C3r74r04         [10] 1147 	jp	PLY_AKM_RT_READEFFECT_RETURN
    000006DB                       1148 	PLY_AKM_EFFECTARPEGGIOTABLE_STOP:
    000006DB DD 77 1C         [19] 1149 	ld	+28(ix), a
    000006DE C3r74r04         [10] 1150 	jp	PLY_AKM_RT_READEFFECT_RETURN
    000006E1                       1151 	PLY_AKM_EFFECTPITCHTABLE:
    000006E1 CDr16r07         [17] 1152 	call	PLY_AKM_EFFECTREADIFESCAPE
    000006E4 DD 77 1D         [19] 1153 	ld	+29(ix), a
    000006E7 B7               [ 4] 1154 	or	a
    000006E8 CAr74r04         [10] 1155 	jp	z, PLY_AKM_RT_READEFFECT_RETURN
    000006EB 87               [ 4] 1156 	add	a, a
    000006EC D9               [ 4] 1157 	exx
    000006ED 6F               [ 4] 1158 	ld	l, a
    000006EE 26 00            [ 7] 1159 	ld	h, #0x0
    000006F0 ED 4B 04 F0      [20] 1160 	ld	bc, (PLY_AKM_PTPITCHES)
    000006F4 09               [11] 1161 	add	hl, bc
    000006F5 7E               [ 7] 1162 	ld	a, (hl)
    000006F6 23               [ 6] 1163 	inc	hl
    000006F7 66               [ 7] 1164 	ld	h, (hl)
    000006F8 6F               [ 4] 1165 	ld	l, a
    000006F9 7E               [ 7] 1166 	ld	a, (hl)
    000006FA 23               [ 6] 1167 	inc	hl
    000006FB DD 77 23         [19] 1168 	ld	+35(ix), a
    000006FE DD 77 22         [19] 1169 	ld	+34(ix), a
    00000701 DD                    1170 	.db	0xdd
    00000702 75                    1171 	.db	0x75
    00000703 1E                    1172 	.db	0x1e
    00000704 DD                    1173 	.db	0xdd
    00000705 74                    1174 	.db	0x74
    00000706 1F                    1175 	.db	0x1f
    00000707 ED 4B 08 F0      [20] 1176 	ld	bc, (PLY_AKM_NOTEINDEXTABLE)
    0000070B D9               [ 4] 1177 	exx
    0000070C AF               [ 4] 1178 	xor	a
    0000070D DD 77 20         [19] 1179 	ld	+32(ix), a
    00000710 DD 77 21         [19] 1180 	ld	+33(ix), a
    00000713 C3r74r04         [10] 1181 	jp	PLY_AKM_RT_READEFFECT_RETURN
    00000716                       1182 	PLY_AKM_EFFECTREADIFESCAPE:
    00000716 FE 0F            [ 7] 1183 	cp	#0xf
    00000718 D8               [11] 1184 	ret	c
    00000719 7E               [ 7] 1185 	ld	a, (hl)
    0000071A 23               [ 6] 1186 	inc	hl
    0000071B C9               [10] 1187 	ret
    0000071C                       1188 	PLY_AKM_PERIODTABLE:
    0000071C 7A 1A                 1189 	.dw	0x1a7a
    0000071E FE 18                 1190 	.dw	0x18fe
    00000720 97 17                 1191 	.dw	0x1797
    00000722 44 16                 1192 	.dw	0x1644
    00000724 04 15                 1193 	.dw	0x1504
    00000726 D6 13                 1194 	.dw	0x13d6
    00000728 B9 12                 1195 	.dw	0x12b9
    0000072A AC 11                 1196 	.dw	0x11ac
    0000072C AE 10                 1197 	.dw	0x10ae
    0000072E BE 0F                 1198 	.dw	0xfbe
    00000730 DC 0E                 1199 	.dw	0xedc
    00000732 07 0E                 1200 	.dw	0xe07
                         0000F057  1201 	PLY_AKM_CHANNEL1_SOUNDEFFECTDATA	= 0xf057
                         0000F05F  1202 	PLY_AKM_CHANNEL2_SOUNDEFFECTDATA	= 0xf05f
                         0000F067  1203 	PLY_AKM_CHANNEL3_SOUNDEFFECTDATA	= 0xf067
                         0000F00F  1204 	PLY_AKM_DEFAULTSTARTINSTRUMENTINTRACKS	= 0xf00f
                         0000F00E  1205 	PLY_AKM_DEFAULTSTARTNOTEINTRACKS	= 0xf00e
                         0000F010  1206 	PLY_AKM_DEFAULTSTARTWAITINTRACKS	= 0xf010
                         0000F015  1207 	PLY_AKM_FLAGNOTEANDEFFECTINCELL	= 0xf015
                         0000F017  1208 	PLY_AKM_LINKERPREVIOUSREMAININGHEIGHT	= 0xf017
                         0000F046  1209 	PLY_AKM_MIXERREGISTER	= 0xf046
                         0000F042  1210 	PLY_AKM_NOISEREGISTER	= 0xf042
                         0000F008  1211 	PLY_AKM_NOTEINDEXTABLE	= 0xf008
                         0000F016  1212 	PLY_AKM_PATTERNREMAININGHEIGHT	= 0xf016
                         0000F011  1213 	PLY_AKM_PRIMARYINSTRUMENT	= 0xf011
                         0000F013  1214 	PLY_AKM_PRIMARYWAIT	= 0xf013
                         0000F002  1215 	PLY_AKM_PTARPEGGIOS	= 0xf002
                         0000F000  1216 	PLY_AKM_PTINSTRUMENTS	= 0xf000
                         0000F006  1217 	PLY_AKM_PTLINKER	= 0xf006
                         0000F004  1218 	PLY_AKM_PTPITCHES	= 0xf004
                         0000F055  1219 	PLY_AKM_PTSOUNDEFFECTTABLE	= 0xf055
                         0000F04A  1220 	PLY_AKM_REG11	= 0xf04a
                         0000F04E  1221 	PLY_AKM_REG12	= 0xf04e
                         0000F01C  1222 	PLY_AKM_RT_READEFFECTSFLAG	= 0xf01c
                         0000F00C  1223 	PLY_AKM_SAVESP	= 0xf00c
                         0000F012  1224 	PLY_AKM_SECONDARYINSTRUMENT	= 0xf012
                         0000F014  1225 	PLY_AKM_SECONDARYWAIT	= 0xf014
                         0000F01B  1226 	PLY_AKM_SETREG13	= 0xf01b
                         0000F01A  1227 	PLY_AKM_SETREG13OLD	= 0xf01a
                         0000F018  1228 	PLY_AKM_SPEED	= 0xf018
                         0000F019  1229 	PLY_AKM_TICKCOUNTER	= 0xf019
                         0000F074  1230 	PLY_AKM_TRACK1_ESCAPEINSTRUMENT	= 0xf074
                         0000F073  1231 	PLY_AKM_TRACK1_ESCAPENOTE	= 0xf073
                         0000F075  1232 	PLY_AKM_TRACK1_ESCAPEWAIT	= 0xf075
                         0000F076  1233 	PLY_AKM_TRACK1_PTINSTRUMENT	= 0xf076
                         0000F01D  1234 	PLY_AKM_TRACK1_REGISTERS	= 0xf01d
                         0000F06D  1235 	PLY_AKM_TRACK1_TRANSPOSITION	= 0xf06d
                         0000F01E  1236 	PLY_AKM_TRACK1_VOLUME	= 0xf01e
                         0000F06C  1237 	PLY_AKM_TRACK1_WAITEMPTYCELL	= 0xf06c
                         0000F09A  1238 	PLY_AKM_TRACK2_ESCAPEINSTRUMENT	= 0xf09a
                         0000F099  1239 	PLY_AKM_TRACK2_ESCAPENOTE	= 0xf099
                         0000F09B  1240 	PLY_AKM_TRACK2_ESCAPEWAIT	= 0xf09b
                         0000F09C  1241 	PLY_AKM_TRACK2_PTINSTRUMENT	= 0xf09c
                         0000F029  1242 	PLY_AKM_TRACK2_REGISTERS	= 0xf029
                         0000F02A  1243 	PLY_AKM_TRACK2_VOLUME	= 0xf02a
                         0000F092  1244 	PLY_AKM_TRACK2_WAITEMPTYCELL	= 0xf092
                         0000F0C0  1245 	PLY_AKM_TRACK3_ESCAPEINSTRUMENT	= 0xf0c0
                         0000F0BF  1246 	PLY_AKM_TRACK3_ESCAPENOTE	= 0xf0bf
                         0000F0C1  1247 	PLY_AKM_TRACK3_ESCAPEWAIT	= 0xf0c1
                         0000F0C2  1248 	PLY_AKM_TRACK3_PTINSTRUMENT	= 0xf0c2
                         0000F035  1249 	PLY_AKM_TRACK3_REGISTERS	= 0xf035
                         0000F036  1250 	PLY_AKM_TRACK3_VOLUME	= 0xf036
                         0000F0B8  1251 	PLY_AKM_TRACK3_WAITEMPTYCELL	= 0xf0b8
                         0000F00A  1252 	PLY_AKM_TRACKINDEX	= 0xf00a
                                   1253 ;	#	24 "C:\\Users\\reina\\OneDrive\\Documentos\\MSXgl\\engine/src/arkos/akm_player.c" 2
                                   1254 ;C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c:1217: ERROR: no line number 1217 in file C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c
    00000734 C9               [10] 1255 	ret
                                   1256 ;C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c:1221: ERROR: no line number 1221 in file C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c
                                   1257 ;	---------------------------------
                                   1258 ; Function AKM_Init
                                   1259 ; ---------------------------------
    00000735                       1260 _AKM_Init::
                                   1261 ;C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c:1239: ERROR: no line number 1239 in file C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c
    00000735 C1               [10] 1262 	pop	bc
    00000736 3B               [ 6] 1263 	dec	sp
    00000737 F1               [10] 1264 	pop	af
    00000738 C5               [11] 1265 	push	bc
    00000739 DD E5            [15] 1266 	push	ix
    0000073B CDr21r01         [17] 1267 	call	_PLY_AKM_INIT
    0000073E DD E1            [14] 1268 	pop	ix
    00000740 3E 01            [ 7] 1269 	ld	a, #1
    00000742 32r00r00         [13] 1270 	ld	(_g_AKM_Playing), a
    00000745 C9               [10] 1271 	ret
                                   1272 ;C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c:1240: ERROR: no line number 1240 in file C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c
                                   1273 ;C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c:1244: ERROR: no line number 1244 in file C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c
                                   1274 ;	---------------------------------
                                   1275 ; Function AKM_Stop
                                   1276 ; ---------------------------------
    00000746                       1277 _AKM_Stop::
                                   1278 ;C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c:1253: ERROR: no line number 1253 in file C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c
    00000746 AF               [ 4] 1279 	xor	a
    00000747 32r00r00         [13] 1280 	ld	(_g_AKM_Playing), a
    0000074A DD E5            [15] 1281 	push	ix
    0000074C CDr08r02         [17] 1282 	call	_PLY_AKM_STOP
    0000074F DD E1            [14] 1283 	pop	ix
                                   1284 ;C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c:1254: ERROR: no line number 1254 in file C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c
    00000751 C9               [10] 1285 	ret
                                   1286 ;C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c:1258: ERROR: no line number 1258 in file C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c
                                   1287 ;	---------------------------------
                                   1288 ; Function AKM_Decode
                                   1289 ; ---------------------------------
    00000752                       1290 _AKM_Decode::
                                   1291 ;C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c:1271: ERROR: no line number 1271 in file C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c
    00000752 3Ar00r00         [13] 1292 	ld	a, (_g_AKM_Playing)
    00000755 B7               [ 4] 1293 	or	a
    00000756 C8               [11] 1294 	ret	z
    00000757 AF               [ 4] 1295 	xor	a
    00000758 32r00r00         [13] 1296 	ld	(_g_AKM_EndOfSong), a
    0000075B DD E5            [15] 1297 	push	ix
    0000075D CDr1Er02         [17] 1298 	call	_PLY_AKM_PLAY
    00000760 DD E1            [14] 1299 	pop	ix
    00000762 3Ar00r00         [13] 1300 	ld	a, (_g_AKM_EndOfSong)
                                   1301 ;C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c:1272: ERROR: no line number 1272 in file C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c
    00000765 C9               [10] 1302 	ret
                                   1303 ;C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c:1280: ERROR: no line number 1280 in file C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c
                                   1304 ;	---------------------------------
                                   1305 ; Function AKM_InitSFX
                                   1306 ; ---------------------------------
    00000766                       1307 _AKM_InitSFX::
                                   1308 ;C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c:1294: ERROR: no line number 1294 in file C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c
    00000766 DD E5            [15] 1309 	push	ix
    00000768 CDr00r00         [17] 1310 	call	_PLY_AKM_INITSOUNDEFFECTS
    0000076B DD E1            [14] 1311 	pop	ix
    0000076D 3E 01            [ 7] 1312 	ld	a, #1
    0000076F 32r00r00         [13] 1313 	ld	(_g_AKM_Playing), a
    00000772 7E               [ 7] 1314 	ld	a, (hl)
    00000773 CB 3F            [ 8] 1315 	srl	a
                                   1316 ;C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c:1295: ERROR: no line number 1295 in file C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c
    00000775 C9               [10] 1317 	ret
                                   1318 ;C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c:113: ERROR: no line number 113 in file C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c
                                   1319 ;	---------------------------------
                                   1320 ; Function AKM_PlaySFX
                                   1321 ; ---------------------------------
    00000776                       1322 _AKM_PlaySFX::
                                   1323 ;C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c:135: ERROR: no line number 135 in file C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c
    00000776 D1               [10] 1324 	pop	de
    00000777 3B               [ 6] 1325 	dec	sp
    00000778 C1               [10] 1326 	pop	bc
    00000779 4D               [ 4] 1327 	ld	c, l
    0000077A D5               [11] 1328 	push	de
    0000077B 3C               [ 4] 1329 	inc	a
    0000077C DD E5            [15] 1330 	push	ix
    0000077E CDr04r00         [17] 1331 	call	_PLY_AKM_PLAYSOUNDEFFECT
    00000781 DD E1            [14] 1332 	pop	ix
    00000783 C9               [10] 1333 	ret
                                   1334 ;C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c:136: ERROR: no line number 136 in file C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c
                                   1335 ;C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c:144: ERROR: no line number 144 in file C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c
                                   1336 ;	---------------------------------
                                   1337 ; Function AKM_StopSFX
                                   1338 ; ---------------------------------
    00000784                       1339 _AKM_StopSFX::
                                   1340 ;C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c:153: ERROR: no line number 153 in file C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c
    00000784 DD E5            [15] 1341 	push	ix
    00000786 CDr2Cr00         [17] 1342 	call	_PLY_AKM_STOPSOUNDEFFECTFROMCHANNEL
    00000789 DD E1            [14] 1343 	pop	ix
                                   1344 ;C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c:154: ERROR: no line number 154 in file C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/akm_player.c
    0000078B C9               [10] 1345 	ret
                                   1346 	.area _CODE
                                   1347 	.area _INITIALIZER
    00000000                       1348 __xinit__g_AKM_Playing:
    00000000 00                    1349 	.db #0x00	; 0
                                   1350 	.area _CABS (ABS)
