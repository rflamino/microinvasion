                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 4.2.0 #13081 (MINGW64)
                                      4 ;--------------------------------------------------------
                                      5 	.module aky_player
                                      6 	.optsdcc -mz80
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _AKY_Dummy
                                     12 	.globl _g_AKY_EndOfSong
                                     13 	.globl _AKY_Init
                                     14 	.globl _AKY_Decode
                                     15 ;--------------------------------------------------------
                                     16 ; special function registers
                                     17 ;--------------------------------------------------------
                                     18 ;--------------------------------------------------------
                                     19 ; ram data
                                     20 ;--------------------------------------------------------
                                     21 	.area _DATA
    00000000                         22 _g_AKY_EndOfSong::
    00000000                         23 	.ds 1
                                     24 ;--------------------------------------------------------
                                     25 ; ram data
                                     26 ;--------------------------------------------------------
                                     27 	.area _INITIALIZED
                                     28 ;--------------------------------------------------------
                                     29 ; absolute external ram data
                                     30 ;--------------------------------------------------------
                                     31 	.area _DABS (ABS)
                                     32 ;--------------------------------------------------------
                                     33 ; global & static initialisations
                                     34 ;--------------------------------------------------------
                                     35 	.area _HOME
                                     36 	.area _GSINIT
                                     37 	.area _GSFINAL
                                     38 	.area _GSINIT
                                     39 ;--------------------------------------------------------
                                     40 ; Home
                                     41 ;--------------------------------------------------------
                                     42 	.area _HOME
                                     43 	.area _HOME
                                     44 ;--------------------------------------------------------
                                     45 ; code
                                     46 ;--------------------------------------------------------
                                     47 	.area _CODE
                                     48 ;C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/aky_player.c:19: void AKY_Dummy()
                                     49 ;	---------------------------------
                                     50 ; Function AKY_Dummy
                                     51 ; ---------------------------------
    00000000                         52 _AKY_Dummy::
                                     53 ;C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/aky_player.c:572: ERROR: no line number 572 in file C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/aky_player.c
                                     54 ;	#	1 "C:\\Users\\reina\\OneDrive\\Documentos\\MSXgl\\engine/src/arkos/aky_player.asm" 1
                                     55 ;	____________________________
                                     56 ;	██▀▀█▀▀██▀▀▀▀▀▀▀█▀▀█ │ ▄▄ ▄▄
                                     57 ;	██ ▀ █▄ ▀██▄ ▀ ▄█ ▄▀▀ █ │ ██▄█ ██▄▀ ██▄▀ ▄█▀▄ ██▀
                                     58 ;	█ █ █ ▀▀ ▄█ █ █ ▀▄█ █▄ │ ██ █ ██ ██ █ ▀█▄▀ ▄██
                                     59 ;	▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀────────┘
                                     60 ;	by Guillaume 'Aoineko' Blanchard under CC BY-SA license
                                     61 ;==============================================================================
                                     62 ;	Autogenerated Arkos AKY player for MSX-GL library
                                     63 ;	on 10/02/2023 at 0:02:37, 49
                                     64 ;
                                     65 ;	Arkos Tracker and the Z80 players are coded and designed
                                     66 ;	by Julien Névo (aka Targhan/Arkos) under MIT License.
                                     67 ;==============================================================================
    00000000                         68 	PLY_AKY_START:
    00000000                         69 	_PLY_AKY_INIT::
    00000000                         70 	PLY_AKY_INIT:
    00000000                         71 	PLY_AKY_USEHOOKS:
    00000000                         72 	PLY_AKY_OPCODE_OR_A:
    00000000                         73 	PLY_AKY_OFFSET1B:
    00000000 23               [ 6]   74 	inc	hl
    00000001 7E               [ 7]   75 	ld	a, (hl)
    00000002                         76 	PLY_AKY_RRB_SOUNDCHANNELBIT:
    00000002 23               [ 6]   77 	inc	hl
                         00000005    78 	PLY_AKY_RRB_NOISECHANNELBIT	= .+2
    00000003 11 04 00         [10]   79 	ld	de, #0x4
    00000006                         80 	PLY_AKY_INIT_SKIPHEADERLOOP:
    00000006 19               [11]   81 	add	hl, de
    00000007 D6 03            [ 7]   82 	sub	#0x3
    00000009 28 02            [12]   83 	jr	z, PLY_AKY_INIT_SKIPHEADEREND
    0000000B 30 F9            [12]   84 	jr	nc, PLY_AKY_INIT_SKIPHEADERLOOP
    0000000D                         85 	PLY_AKY_INIT_SKIPHEADEREND:
    0000000D 22 0B F0         [16]   86 	ld	(PLY_AKY_PTLINKER), hl
    00000010 3E 00            [ 7]   87 	ld	a, #0x0
    00000012 32 03 F0         [13]   88 	ld	(PLY_AKY_CHANNEL1_REGISTERBLOCKLINESTATE_OPCODE), a
    00000015 32 04 F0         [13]   89 	ld	(PLY_AKY_CHANNEL2_REGISTERBLOCKLINESTATE_OPCODE), a
    00000018 32 05 F0         [13]   90 	ld	(PLY_AKY_CHANNEL3_REGISTERBLOCKLINESTATE_OPCODE), a
    0000001B 21 01 00         [10]   91 	ld	hl, #0x1
    0000001E 22 0F F0         [16]   92 	ld	(PLY_AKY_PATTERNFRAMECOUNTER), hl
    00000021 C9               [10]   93 	ret
    00000022                         94 	_PLY_AKY_PLAY::
    00000022                         95 	PLY_AKY_PLAY:
    00000022 ED 73 0D F0      [20]   96 	ld	(PLY_AKY_SAVESP), sp
    00000026 2A 0F F0         [16]   97 	ld	hl, (PLY_AKY_PATTERNFRAMECOUNTER)
    00000029 2B               [ 6]   98 	dec	hl
    0000002A 7D               [ 4]   99 	ld	a, l
    0000002B B4               [ 4]  100 	or	h
    0000002C 28 05            [12]  101 	jr	z, PLY_AKY_PATTERNFRAMECOUNTER_OVER
    0000002E 22 0F F0         [16]  102 	ld	(PLY_AKY_PATTERNFRAMECOUNTER), hl
    00000031 18 30            [12]  103 	jr	PLY_AKY_CHANNEL1_WAITBEFORENEXTREGISTERBLOCK_START
    00000033                        104 	PLY_AKY_PATTERNFRAMECOUNTER_OVER:
    00000033 ED 7B 0B F0      [20]  105 	ld	sp, (PLY_AKY_PTLINKER)
    00000037 E1               [10]  106 	pop	hl
    00000038 7D               [ 4]  107 	ld	a, l
    00000039 B4               [ 4]  108 	or	h
    0000003A 20 0A            [12]  109 	jr	nz, PLY_AKY_LINKERNOTENDSONG
    0000003C E1               [10]  110 	pop	hl
    0000003D F9               [ 6]  111 	ld	sp, hl
    0000003E E1               [10]  112 	pop	hl
                                    113 ;	MSXgl - Start
    0000003F F5               [11]  114 	push	af
    00000040 3E 01            [ 7]  115 	ld	a, #1
    00000042 32r00r00         [13]  116 	ld	(_g_AKY_EndOfSong), a
    00000045 F1               [10]  117 	pop	af
                                    118 ;	MSXgl - End
    00000046                        119 	PLY_AKY_LINKERNOTENDSONG:
    00000046 22 0F F0         [16]  120 	ld	(PLY_AKY_PATTERNFRAMECOUNTER), hl
    00000049 E1               [10]  121 	pop	hl
    0000004A 22 11 F0         [16]  122 	ld	(PLY_AKY_CHANNEL1_PTTRACK), hl
    0000004D E1               [10]  123 	pop	hl
    0000004E 22 13 F0         [16]  124 	ld	(PLY_AKY_CHANNEL2_PTTRACK), hl
    00000051 E1               [10]  125 	pop	hl
    00000052 22 15 F0         [16]  126 	ld	(PLY_AKY_CHANNEL3_PTTRACK), hl
    00000055 ED 73 0B F0      [20]  127 	ld	(PLY_AKY_PTLINKER), sp
    00000059 3E 01            [ 7]  128 	ld	a, #0x1
    0000005B 32 01 F0         [13]  129 	ld	(PLY_AKY_CHANNEL2_WAITBEFORENEXTREGISTERBLOCK), a
    0000005E 32 02 F0         [13]  130 	ld	(PLY_AKY_CHANNEL3_WAITBEFORENEXTREGISTERBLOCK), a
    00000061 18 06            [12]  131 	jr	PLY_AKY_CHANNEL1_WAITBEFORENEXTREGISTERBLOCK_OVER
    00000063                        132 	PLY_AKY_CHANNEL1_WAITBEFORENEXTREGISTERBLOCK_START:
    00000063 3A 00 F0         [13]  133 	ld	a, (PLY_AKY_CHANNEL1_WAITBEFORENEXTREGISTERBLOCK)
    00000066 3D               [ 4]  134 	dec	a
    00000067 20 13            [12]  135 	jr	nz, PLY_AKY_CHANNEL1_REGISTERBLOCK_PROCESS
    00000069                        136 	PLY_AKY_CHANNEL1_WAITBEFORENEXTREGISTERBLOCK_OVER:
    00000069 3E 00            [ 7]  137 	ld	a, #0x0
    0000006B 32 03 F0         [13]  138 	ld	(PLY_AKY_CHANNEL1_REGISTERBLOCKLINESTATE_OPCODE), a
    0000006E ED 7B 11 F0      [20]  139 	ld	sp, (PLY_AKY_CHANNEL1_PTTRACK)
    00000072 3B               [ 6]  140 	dec	sp
    00000073 F1               [10]  141 	pop	af
    00000074 E1               [10]  142 	pop	hl
    00000075 ED 73 11 F0      [20]  143 	ld	(PLY_AKY_CHANNEL1_PTTRACK), sp
    00000079 22 17 F0         [16]  144 	ld	(PLY_AKY_CHANNEL1_PTREGISTERBLOCK), hl
    0000007C                        145 	PLY_AKY_CHANNEL1_REGISTERBLOCK_PROCESS:
    0000007C 32 00 F0         [13]  146 	ld	(PLY_AKY_CHANNEL1_WAITBEFORENEXTREGISTERBLOCK), a
    0000007F                        147 	PLY_AKY_CHANNEL2_WAITBEFORENEXTREGISTERBLOCK_START:
    0000007F 3A 01 F0         [13]  148 	ld	a, (PLY_AKY_CHANNEL2_WAITBEFORENEXTREGISTERBLOCK)
    00000082 3D               [ 4]  149 	dec	a
    00000083 20 13            [12]  150 	jr	nz, PLY_AKY_CHANNEL2_REGISTERBLOCK_PROCESS
    00000085                        151 	PLY_AKY_CHANNEL2_WAITBEFORENEXTREGISTERBLOCK_OVER:
    00000085 3E 00            [ 7]  152 	ld	a, #0x0
    00000087 32 04 F0         [13]  153 	ld	(PLY_AKY_CHANNEL2_REGISTERBLOCKLINESTATE_OPCODE), a
    0000008A ED 7B 13 F0      [20]  154 	ld	sp, (PLY_AKY_CHANNEL2_PTTRACK)
    0000008E 3B               [ 6]  155 	dec	sp
    0000008F F1               [10]  156 	pop	af
    00000090 E1               [10]  157 	pop	hl
    00000091 ED 73 13 F0      [20]  158 	ld	(PLY_AKY_CHANNEL2_PTTRACK), sp
    00000095 22 19 F0         [16]  159 	ld	(PLY_AKY_CHANNEL2_PTREGISTERBLOCK), hl
    00000098                        160 	PLY_AKY_CHANNEL2_REGISTERBLOCK_PROCESS:
    00000098 32 01 F0         [13]  161 	ld	(PLY_AKY_CHANNEL2_WAITBEFORENEXTREGISTERBLOCK), a
    0000009B                        162 	PLY_AKY_CHANNEL3_WAITBEFORENEXTREGISTERBLOCK_START:
    0000009B 3A 02 F0         [13]  163 	ld	a, (PLY_AKY_CHANNEL3_WAITBEFORENEXTREGISTERBLOCK)
    0000009E 3D               [ 4]  164 	dec	a
    0000009F 20 13            [12]  165 	jr	nz, PLY_AKY_CHANNEL3_REGISTERBLOCK_PROCESS
    000000A1                        166 	PLY_AKY_CHANNEL3_WAITBEFORENEXTREGISTERBLOCK_OVER:
    000000A1 3E 00            [ 7]  167 	ld	a, #0x0
    000000A3 32 05 F0         [13]  168 	ld	(PLY_AKY_CHANNEL3_REGISTERBLOCKLINESTATE_OPCODE), a
    000000A6 ED 7B 15 F0      [20]  169 	ld	sp, (PLY_AKY_CHANNEL3_PTTRACK)
    000000AA 3B               [ 6]  170 	dec	sp
    000000AB F1               [10]  171 	pop	af
    000000AC E1               [10]  172 	pop	hl
    000000AD ED 73 15 F0      [20]  173 	ld	(PLY_AKY_CHANNEL3_PTTRACK), sp
    000000B1 22 1B F0         [16]  174 	ld	(PLY_AKY_CHANNEL3_PTREGISTERBLOCK), hl
    000000B4                        175 	PLY_AKY_CHANNEL3_REGISTERBLOCK_PROCESS:
    000000B4 32 02 F0         [13]  176 	ld	(PLY_AKY_CHANNEL3_WAITBEFORENEXTREGISTERBLOCK), a
    000000B7 21 08 00         [10]  177 	ld	hl, #0x8
    000000BA 0E 10            [ 7]  178 	ld	c, #0x10
    000000BC D9               [ 4]  179 	exx
    000000BD 01 FF E0         [10]  180 	ld	bc, #0xe0ff
    000000C0 31rFBr02         [10]  181 	ld	sp, #PLY_AKY_RETTABLE_READREGISTERBLOCK
    000000C3 2A 17 F0         [16]  182 	ld	hl, (PLY_AKY_CHANNEL1_PTREGISTERBLOCK)
    000000C6 3A 03 F0         [13]  183 	ld	a, (PLY_AKY_CHANNEL1_REGISTERBLOCKLINESTATE_OPCODE)
    000000C9 87               [ 4]  184 	add	a, a
    000000CA C3r3Dr01         [10]  185 	jp	PLY_AKY_READREGISTERBLOCK
    000000CD                        186 	PLY_AKY_CHANNEL1_REGISTERBLOCK_RETURN:
    000000CD 3E FF            [ 7]  187 	ld	a, #0xff
    000000CF 32 03 F0         [13]  188 	ld	(PLY_AKY_CHANNEL1_REGISTERBLOCKLINESTATE_OPCODE), a
    000000D2 22 17 F0         [16]  189 	ld	(PLY_AKY_CHANNEL1_PTREGISTERBLOCK), hl
    000000D5 CB 38            [ 8]  190 	srl	b
    000000D7 2A 19 F0         [16]  191 	ld	hl, (PLY_AKY_CHANNEL2_PTREGISTERBLOCK)
    000000DA 3A 04 F0         [13]  192 	ld	a, (PLY_AKY_CHANNEL2_REGISTERBLOCKLINESTATE_OPCODE)
    000000DD 87               [ 4]  193 	add	a, a
    000000DE C3r3Dr01         [10]  194 	jp	PLY_AKY_READREGISTERBLOCK
    000000E1                        195 	PLY_AKY_CHANNEL2_REGISTERBLOCK_RETURN:
    000000E1 3E FF            [ 7]  196 	ld	a, #0xff
    000000E3 32 04 F0         [13]  197 	ld	(PLY_AKY_CHANNEL2_REGISTERBLOCKLINESTATE_OPCODE), a
    000000E6 22 19 F0         [16]  198 	ld	(PLY_AKY_CHANNEL2_PTREGISTERBLOCK), hl
    000000E9 37               [ 4]  199 	scf
    000000EA CB 18            [ 8]  200 	rr	b
    000000EC 2A 1B F0         [16]  201 	ld	hl, (PLY_AKY_CHANNEL3_PTREGISTERBLOCK)
    000000EF 3A 05 F0         [13]  202 	ld	a, (PLY_AKY_CHANNEL3_REGISTERBLOCKLINESTATE_OPCODE)
    000000F2 87               [ 4]  203 	add	a, a
    000000F3 C3r3Dr01         [10]  204 	jp	PLY_AKY_READREGISTERBLOCK
    000000F6                        205 	PLY_AKY_CHANNEL3_REGISTERBLOCK_RETURN:
    000000F6 3E FF            [ 7]  206 	ld	a, #0xff
    000000F8 32 05 F0         [13]  207 	ld	(PLY_AKY_CHANNEL3_REGISTERBLOCKLINESTATE_OPCODE), a
    000000FB 22 1B F0         [16]  208 	ld	(PLY_AKY_CHANNEL3_PTREGISTERBLOCK), hl
    000000FE 78               [ 4]  209 	ld	a, b
    000000FF D9               [ 4]  210 	exx
    00000100 47               [ 4]  211 	ld	b, a
    00000101 3E 07            [ 7]  212 	ld	a, #0x7
    00000103 D3 A0            [11]  213 	out	(0xa0), a
    00000105 78               [ 4]  214 	ld	a, b
    00000106                        215 	PLY_AKY_OPCODE_SCF:
    00000106 D3 A1            [11]  216 	out	(0xa1), a
    00000108 3E 06            [ 7]  217 	ld	a, #0x6
    0000010A D3 A0            [11]  218 	out	(0xa0), a
    0000010C 3A 06 F0         [13]  219 	ld	a, (PLY_AKY_PSGREGISTER6)
    0000010F D3 A1            [11]  220 	out	(0xa1), a
    00000111 3E 0B            [ 7]  221 	ld	a, #0xb
    00000113 D3 A0            [11]  222 	out	(0xa0), a
    00000115 3A 07 F0         [13]  223 	ld	a, (PLY_AKY_PSGREGISTER11)
    00000118 D3 A1            [11]  224 	out	(0xa1), a
    0000011A 3E 0C            [ 7]  225 	ld	a, #0xc
    0000011C D3 A0            [11]  226 	out	(0xa0), a
    0000011E 3A 08 F0         [13]  227 	ld	a, (PLY_AKY_PSGREGISTER12)
    00000121 D3 A1            [11]  228 	out	(0xa1), a
    00000123                        229 	PLY_AKY_PSGREGISTER13_CODE:
    00000123 3A 0A F0         [13]  230 	ld	a, (PLY_AKY_PSGREGISTER13_RETRIG)
    00000126 47               [ 4]  231 	ld	b, a
    00000127 3A 09 F0         [13]  232 	ld	a, (PLY_AKY_PSGREGISTER13)
    0000012A B8               [ 4]  233 	cp	b
    0000012B 28 0B            [12]  234 	jr	z, PLY_AKY_PSGREGISTER13_END
    0000012D 32 0A F0         [13]  235 	ld	(PLY_AKY_PSGREGISTER13_RETRIG), a
    00000130 47               [ 4]  236 	ld	b, a
    00000131 3E 0D            [ 7]  237 	ld	a, #0xd
    00000133 D3 A0            [11]  238 	out	(0xa0), a
    00000135 78               [ 4]  239 	ld	a, b
    00000136 D3 A1            [11]  240 	out	(0xa1), a
    00000138                        241 	PLY_AKY_PSGREGISTER13_END:
    00000138 ED 7B 0D F0      [20]  242 	ld	sp, (PLY_AKY_SAVESP)
    0000013C C9               [10]  243 	ret
    0000013D                        244 	PLY_AKY_READREGISTERBLOCK:
    0000013D 7E               [ 7]  245 	ld	a, (hl)
    0000013E 23               [ 6]  246 	inc	hl
    0000013F DAr01r02         [10]  247 	jp	c, PLY_AKY_RRB_NONINITIALSTATE
    00000142 1F               [ 4]  248 	rra
    00000143 38 48            [12]  249 	jr	c, PLY_AKY_RRB_IS_SOFTWAREONLYORSOFTWAREANDHARDWARE
    00000145 1F               [ 4]  250 	rra
    00000146 38 19            [12]  251 	jr	c, PLY_AKY_RRB_IS_HARDWAREONLY
    00000148                        252 	PLY_AKY_RRB_IS_NOSOFTWARENOHARDWARE:
    00000148 1F               [ 4]  253 	rra
    00000149 30 07            [12]  254 	jr	nc, PLY_AKY_RRB_NIS_NOSOFTWARENOHARDWARE_READVOLUME
    0000014B 11 06 F0         [10]  255 	ld	de, #PLY_AKY_PSGREGISTER6
    0000014E ED A0            [16]  256 	ldi
    00000150 CB A8            [ 8]  257 	res	5, b
    00000152                        258 	PLY_AKY_RRB_NIS_NOSOFTWARENOHARDWARE_READVOLUME:
    00000152 D9               [ 4]  259 	exx
    00000153 47               [ 4]  260 	ld	b, a
    00000154 7D               [ 4]  261 	ld	a, l
    00000155 D3 A0            [11]  262 	out	(0xa0), a
    00000157 78               [ 4]  263 	ld	a, b
    00000158 D3 A1            [11]  264 	out	(0xa1), a
    0000015A 2C               [ 4]  265 	inc	l
    0000015B 24               [ 4]  266 	inc	h
    0000015C 24               [ 4]  267 	inc	h
    0000015D D9               [ 4]  268 	exx
    0000015E CB D0            [ 8]  269 	set	2, b
    00000160 C9               [10]  270 	ret
    00000161                        271 	PLY_AKY_RRB_IS_HARDWAREONLY:
    00000161 1F               [ 4]  272 	rra
    00000162 30 05            [12]  273 	jr	nc, PLY_AKY_RRB_IS_HO_NORETRIG
    00000164 CB FF            [ 8]  274 	set	7, a
    00000166 32 0A F0         [13]  275 	ld	(PLY_AKY_PSGREGISTER13_RETRIG), a
    00000169                        276 	PLY_AKY_RRB_IS_HO_NORETRIG:
    00000169 1F               [ 4]  277 	rra
    0000016A 30 07            [12]  278 	jr	nc, PLY_AKY_RRB_IS_HO_NONOISE
    0000016C 11 06 F0         [10]  279 	ld	de, #PLY_AKY_PSGREGISTER6
    0000016F ED A0            [16]  280 	ldi
    00000171 CB A8            [ 8]  281 	res	5, b
    00000173                        282 	PLY_AKY_RRB_IS_HO_NONOISE:
    00000173 E6 0F            [ 7]  283 	and	#0xf
    00000175 32 09 F0         [13]  284 	ld	(PLY_AKY_PSGREGISTER13), a
    00000178 11 07 F0         [10]  285 	ld	de, #PLY_AKY_PSGREGISTER11
    0000017B ED A0            [16]  286 	ldi
    0000017D ED A0            [16]  287 	ldi
    0000017F CB D0            [ 8]  288 	set	2, b
    00000181 D9               [ 4]  289 	exx
    00000182 7D               [ 4]  290 	ld	a, l
    00000183 D3 A0            [11]  291 	out	(0xa0), a
    00000185 79               [ 4]  292 	ld	a, c
    00000186 D3 A1            [11]  293 	out	(0xa1), a
    00000188 2C               [ 4]  294 	inc	l
    00000189 24               [ 4]  295 	inc	h
    0000018A 24               [ 4]  296 	inc	h
    0000018B D9               [ 4]  297 	exx
    0000018C C9               [10]  298 	ret
    0000018D                        299 	PLY_AKY_RRB_IS_SOFTWAREONLYORSOFTWAREANDHARDWARE:
    0000018D 1F               [ 4]  300 	rra
    0000018E 38 2D            [12]  301 	jr	c, PLY_AKY_RRB_IS_SOFTWAREANDHARDWARE
    00000190 1F               [ 4]  302 	rra
    00000191 30 07            [12]  303 	jr	nc, PLY_AKY_RRB_IS_SOFTWAREONLY_NONOISE
    00000193 11 06 F0         [10]  304 	ld	de, #PLY_AKY_PSGREGISTER6
    00000196 ED A0            [16]  305 	ldi
    00000198 CB A8            [ 8]  306 	res	5, b
    0000019A                        307 	PLY_AKY_RRB_IS_SOFTWAREONLY_NONOISE:
    0000019A D9               [ 4]  308 	exx
    0000019B 47               [ 4]  309 	ld	b, a
    0000019C 7D               [ 4]  310 	ld	a, l
    0000019D D3 A0            [11]  311 	out	(0xa0), a
    0000019F 78               [ 4]  312 	ld	a, b
    000001A0 D3 A1            [11]  313 	out	(0xa1), a
    000001A2 2C               [ 4]  314 	inc	l
    000001A3 D9               [ 4]  315 	exx
    000001A4 7E               [ 7]  316 	ld	a, (hl)
    000001A5 23               [ 6]  317 	inc	hl
    000001A6 D9               [ 4]  318 	exx
    000001A7 47               [ 4]  319 	ld	b, a
    000001A8 7C               [ 4]  320 	ld	a, h
    000001A9 D3 A0            [11]  321 	out	(0xa0), a
    000001AB 78               [ 4]  322 	ld	a, b
    000001AC D3 A1            [11]  323 	out	(0xa1), a
    000001AE 24               [ 4]  324 	inc	h
    000001AF D9               [ 4]  325 	exx
    000001B0 7E               [ 7]  326 	ld	a, (hl)
    000001B1 23               [ 6]  327 	inc	hl
    000001B2 D9               [ 4]  328 	exx
    000001B3 47               [ 4]  329 	ld	b, a
    000001B4 7C               [ 4]  330 	ld	a, h
    000001B5 D3 A0            [11]  331 	out	(0xa0), a
    000001B7 78               [ 4]  332 	ld	a, b
    000001B8 D3 A1            [11]  333 	out	(0xa1), a
    000001BA 24               [ 4]  334 	inc	h
    000001BB D9               [ 4]  335 	exx
    000001BC C9               [10]  336 	ret
    000001BD                        337 	PLY_AKY_RRB_IS_SOFTWAREANDHARDWARE:
    000001BD 1F               [ 4]  338 	rra
    000001BE 30 05            [12]  339 	jr	nc, PLY_AKY_RRB_IS_SAH_NORETRIG
    000001C0 CB FF            [ 8]  340 	set	7, a
    000001C2 32 0A F0         [13]  341 	ld	(PLY_AKY_PSGREGISTER13_RETRIG), a
    000001C5                        342 	PLY_AKY_RRB_IS_SAH_NORETRIG:
    000001C5 1F               [ 4]  343 	rra
    000001C6 30 07            [12]  344 	jr	nc, PLY_AKY_RRB_IS_SAH_NONOISE
    000001C8 11 06 F0         [10]  345 	ld	de, #PLY_AKY_PSGREGISTER6
    000001CB ED A0            [16]  346 	ldi
    000001CD CB A8            [ 8]  347 	res	5, b
    000001CF                        348 	PLY_AKY_RRB_IS_SAH_NONOISE:
    000001CF E6 0F            [ 7]  349 	and	#0xf
    000001D1 32 09 F0         [13]  350 	ld	(PLY_AKY_PSGREGISTER13), a
    000001D4 7E               [ 7]  351 	ld	a, (hl)
    000001D5 23               [ 6]  352 	inc	hl
    000001D6 D9               [ 4]  353 	exx
    000001D7 47               [ 4]  354 	ld	b, a
    000001D8 7C               [ 4]  355 	ld	a, h
    000001D9 D3 A0            [11]  356 	out	(0xa0), a
    000001DB 78               [ 4]  357 	ld	a, b
    000001DC D3 A1            [11]  358 	out	(0xa1), a
    000001DE 24               [ 4]  359 	inc	h
    000001DF D9               [ 4]  360 	exx
    000001E0 7E               [ 7]  361 	ld	a, (hl)
    000001E1 23               [ 6]  362 	inc	hl
    000001E2 D9               [ 4]  363 	exx
    000001E3 47               [ 4]  364 	ld	b, a
    000001E4 7C               [ 4]  365 	ld	a, h
    000001E5 D3 A0            [11]  366 	out	(0xa0), a
    000001E7 78               [ 4]  367 	ld	a, b
    000001E8 D3 A1            [11]  368 	out	(0xa1), a
    000001EA 24               [ 4]  369 	inc	h
    000001EB 7D               [ 4]  370 	ld	a, l
    000001EC D3 A0            [11]  371 	out	(0xa0), a
    000001EE 79               [ 4]  372 	ld	a, c
    000001EF D3 A1            [11]  373 	out	(0xa1), a
    000001F1 2C               [ 4]  374 	inc	l
    000001F2 D9               [ 4]  375 	exx
    000001F3 11 07 F0         [10]  376 	ld	de, #PLY_AKY_PSGREGISTER11
    000001F6 ED A0            [16]  377 	ldi
    000001F8 ED A0            [16]  378 	ldi
    000001FA C9               [10]  379 	ret
    000001FB                        380 	PLY_AKY_RRB_NIS_NOSOFTWARENOHARDWARE_LOOP:
    000001FB 7E               [ 7]  381 	ld	a, (hl)
    000001FC 23               [ 6]  382 	inc	hl
    000001FD 66               [ 7]  383 	ld	h, (hl)
    000001FE 6F               [ 4]  384 	ld	l, a
    000001FF 7E               [ 7]  385 	ld	a, (hl)
    00000200 23               [ 6]  386 	inc	hl
    00000201                        387 	PLY_AKY_RRB_NONINITIALSTATE:
    00000201 1F               [ 4]  388 	rra
    00000202 38 2C            [12]  389 	jr	c, PLY_AKY_RRB_NIS_SOFTWAREONLYORSOFTWAREANDHARDWARE
    00000204 1F               [ 4]  390 	rra
    00000205 DAr72r02         [10]  391 	jp	c, PLY_AKY_RRB_NIS_HARDWAREONLY
    00000208 5F               [ 4]  392 	ld	e, a
    00000209 E6 03            [ 7]  393 	and	#0x3
    0000020B FE 02            [ 7]  394 	cp	#0x2
    0000020D 28 EC            [12]  395 	jr	z, PLY_AKY_RRB_NIS_NOSOFTWARENOHARDWARE_LOOP
    0000020F CB D0            [ 8]  396 	set	2, b
    00000211 7B               [ 4]  397 	ld	a, e
    00000212 1F               [ 4]  398 	rra
    00000213 30 0B            [12]  399 	jr	nc, PLY_AKY_RRB_NIS_NOVOLUME
    00000215 E6 0F            [ 7]  400 	and	#0xf
    00000217 D9               [ 4]  401 	exx
    00000218 47               [ 4]  402 	ld	b, a
    00000219 7D               [ 4]  403 	ld	a, l
    0000021A D3 A0            [11]  404 	out	(0xa0), a
    0000021C 78               [ 4]  405 	ld	a, b
    0000021D D3 A1            [11]  406 	out	(0xa1), a
    0000021F D9               [ 4]  407 	exx
    00000220                        408 	PLY_AKY_RRB_NIS_NOVOLUME:
    00000220 D9               [ 4]  409 	exx
    00000221 2C               [ 4]  410 	inc	l
    00000222 24               [ 4]  411 	inc	h
    00000223 24               [ 4]  412 	inc	h
    00000224 D9               [ 4]  413 	exx
    00000225 CB 6B            [ 8]  414 	bit	5, e
    00000227 C8               [11]  415 	ret	z
    00000228 7E               [ 7]  416 	ld	a, (hl)
    00000229 32 06 F0         [13]  417 	ld	(PLY_AKY_PSGREGISTER6), a
    0000022C 23               [ 6]  418 	inc	hl
    0000022D CB A8            [ 8]  419 	res	5, b
    0000022F C9               [10]  420 	ret
    00000230                        421 	PLY_AKY_RRB_NIS_SOFTWAREONLYORSOFTWAREANDHARDWARE:
    00000230 1F               [ 4]  422 	rra
    00000231 DAr9Cr02         [10]  423 	jp	c, PLY_AKY_RRB_NIS_SOFTWAREANDHARDWARE
    00000234 5F               [ 4]  424 	ld	e, a
    00000235 E6 0F            [ 7]  425 	and	#0xf
    00000237 D9               [ 4]  426 	exx
    00000238 47               [ 4]  427 	ld	b, a
    00000239 7D               [ 4]  428 	ld	a, l
    0000023A D3 A0            [11]  429 	out	(0xa0), a
    0000023C 78               [ 4]  430 	ld	a, b
    0000023D D3 A1            [11]  431 	out	(0xa1), a
    0000023F 2C               [ 4]  432 	inc	l
    00000240 D9               [ 4]  433 	exx
    00000241 CB 63            [ 8]  434 	bit	4, e
    00000243 28 0B            [12]  435 	jr	z, PLY_AKY_RRB_NIS_SOFTWAREONLY_NOLSP
    00000245 7E               [ 7]  436 	ld	a, (hl)
    00000246 23               [ 6]  437 	inc	hl
    00000247 D9               [ 4]  438 	exx
    00000248 47               [ 4]  439 	ld	b, a
    00000249 7C               [ 4]  440 	ld	a, h
    0000024A D3 A0            [11]  441 	out	(0xa0), a
    0000024C 78               [ 4]  442 	ld	a, b
    0000024D D3 A1            [11]  443 	out	(0xa1), a
    0000024F D9               [ 4]  444 	exx
    00000250                        445 	PLY_AKY_RRB_NIS_SOFTWAREONLY_NOLSP:
    00000250 CB 6B            [ 8]  446 	bit	5, e
    00000252 20 05            [12]  447 	jr	nz, PLY_AKY_RRB_NIS_SOFTWAREONLY_MSPANDMAYBENOISE
    00000254 D9               [ 4]  448 	exx
    00000255 24               [ 4]  449 	inc	h
    00000256 24               [ 4]  450 	inc	h
    00000257 D9               [ 4]  451 	exx
    00000258 C9               [10]  452 	ret
    00000259                        453 	PLY_AKY_RRB_NIS_SOFTWAREONLY_MSPANDMAYBENOISE:
    00000259 7E               [ 7]  454 	ld	a, (hl)
    0000025A 23               [ 6]  455 	inc	hl
    0000025B D9               [ 4]  456 	exx
    0000025C 24               [ 4]  457 	inc	h
    0000025D 47               [ 4]  458 	ld	b, a
    0000025E 7C               [ 4]  459 	ld	a, h
    0000025F D3 A0            [11]  460 	out	(0xa0), a
    00000261 78               [ 4]  461 	ld	a, b
    00000262 D3 A1            [11]  462 	out	(0xa1), a
    00000264 24               [ 4]  463 	inc	h
    00000265 D9               [ 4]  464 	exx
    00000266 17               [ 4]  465 	rla
    00000267 D0               [11]  466 	ret	nc
    00000268 CB A8            [ 8]  467 	res	5, b
    0000026A 17               [ 4]  468 	rla
    0000026B D0               [11]  469 	ret	nc
    0000026C 11 06 F0         [10]  470 	ld	de, #PLY_AKY_PSGREGISTER6
    0000026F ED A0            [16]  471 	ldi
    00000271 C9               [10]  472 	ret
    00000272                        473 	PLY_AKY_RRB_NIS_HARDWAREONLY:
    00000272 17               [ 4]  474 	rla
    00000273 5F               [ 4]  475 	ld	e, a
    00000274 E6 0E            [ 7]  476 	and	#0xe
    00000276 32 09 F0         [13]  477 	ld	(PLY_AKY_PSGREGISTER13), a
    00000279 CB D0            [ 8]  478 	set	2, b
    0000027B D9               [ 4]  479 	exx
    0000027C 7D               [ 4]  480 	ld	a, l
    0000027D D3 A0            [11]  481 	out	(0xa0), a
    0000027F 79               [ 4]  482 	ld	a, c
    00000280 D3 A1            [11]  483 	out	(0xa1), a
    00000282 2C               [ 4]  484 	inc	l
    00000283 24               [ 4]  485 	inc	h
    00000284 24               [ 4]  486 	inc	h
    00000285 D9               [ 4]  487 	exx
    00000286 7B               [ 4]  488 	ld	a, e
    00000287 17               [ 4]  489 	rla
    00000288 17               [ 4]  490 	rla
    00000289 30 05            [12]  491 	jr	nc, PLY_AKY_RRB_NIS_HARDWAREONLY_NOLSB
    0000028B 11 07 F0         [10]  492 	ld	de, #PLY_AKY_PSGREGISTER11
    0000028E ED A0            [16]  493 	ldi
    00000290                        494 	PLY_AKY_RRB_NIS_HARDWAREONLY_NOLSB:
    00000290 17               [ 4]  495 	rla
    00000291 30 05            [12]  496 	jr	nc, PLY_AKY_RRB_NIS_HARDWAREONLY_NOMSB
    00000293 11 08 F0         [10]  497 	ld	de, #PLY_AKY_PSGREGISTER12
    00000296 ED A0            [16]  498 	ldi
    00000298                        499 	PLY_AKY_RRB_NIS_HARDWAREONLY_NOMSB:
    00000298 17               [ 4]  500 	rla
    00000299 38 4C            [12]  501 	jr	c, PLY_AKY_RRB_NIS_HARDWARE_SHARED_NOISEORRETRIG_ANDSTOP
    0000029B C9               [10]  502 	ret
    0000029C                        503 	PLY_AKY_RRB_NIS_SOFTWAREANDHARDWARE:
    0000029C D9               [ 4]  504 	exx
    0000029D 47               [ 4]  505 	ld	b, a
    0000029E 7D               [ 4]  506 	ld	a, l
    0000029F D3 A0            [11]  507 	out	(0xa0), a
    000002A1 79               [ 4]  508 	ld	a, c
    000002A2 D3 A1            [11]  509 	out	(0xa1), a
    000002A4 78               [ 4]  510 	ld	a, b
    000002A5 2C               [ 4]  511 	inc	l
    000002A6 D9               [ 4]  512 	exx
    000002A7 1F               [ 4]  513 	rra
    000002A8 30 05            [12]  514 	jr	nc, PLY_AKY_RRB_NIS_SAHH_AFTERLSBH
    000002AA 11 07 F0         [10]  515 	ld	de, #PLY_AKY_PSGREGISTER11
    000002AD ED A0            [16]  516 	ldi
    000002AF                        517 	PLY_AKY_RRB_NIS_SAHH_AFTERLSBH:
    000002AF 1F               [ 4]  518 	rra
    000002B0 30 05            [12]  519 	jr	nc, PLY_AKY_RRB_NIS_SAHH_AFTERMSBH
    000002B2 11 08 F0         [10]  520 	ld	de, #PLY_AKY_PSGREGISTER12
    000002B5 ED A0            [16]  521 	ldi
    000002B7                        522 	PLY_AKY_RRB_NIS_SAHH_AFTERMSBH:
    000002B7 1F               [ 4]  523 	rra
    000002B8 30 0D            [12]  524 	jr	nc, PLY_AKY_RRB_NIS_SAHH_AFTERLSBS
    000002BA 5F               [ 4]  525 	ld	e, a
    000002BB 7E               [ 7]  526 	ld	a, (hl)
    000002BC 23               [ 6]  527 	inc	hl
    000002BD D9               [ 4]  528 	exx
    000002BE 47               [ 4]  529 	ld	b, a
    000002BF 7C               [ 4]  530 	ld	a, h
    000002C0 D3 A0            [11]  531 	out	(0xa0), a
    000002C2 78               [ 4]  532 	ld	a, b
    000002C3 D3 A1            [11]  533 	out	(0xa1), a
    000002C5 D9               [ 4]  534 	exx
    000002C6 7B               [ 4]  535 	ld	a, e
    000002C7                        536 	PLY_AKY_RRB_NIS_SAHH_AFTERLSBS:
    000002C7 1F               [ 4]  537 	rra
    000002C8 30 0F            [12]  538 	jr	nc, PLY_AKY_RRB_NIS_SAHH_AFTERMSBS
    000002CA 5F               [ 4]  539 	ld	e, a
    000002CB 7E               [ 7]  540 	ld	a, (hl)
    000002CC 23               [ 6]  541 	inc	hl
    000002CD D9               [ 4]  542 	exx
    000002CE 24               [ 4]  543 	inc	h
    000002CF 47               [ 4]  544 	ld	b, a
    000002D0 7C               [ 4]  545 	ld	a, h
    000002D1 D3 A0            [11]  546 	out	(0xa0), a
    000002D3 78               [ 4]  547 	ld	a, b
    000002D4 D3 A1            [11]  548 	out	(0xa1), a
    000002D6 25               [ 4]  549 	dec	h
    000002D7 D9               [ 4]  550 	exx
    000002D8 7B               [ 4]  551 	ld	a, e
    000002D9                        552 	PLY_AKY_RRB_NIS_SAHH_AFTERMSBS:
    000002D9 D9               [ 4]  553 	exx
    000002DA 24               [ 4]  554 	inc	h
    000002DB 24               [ 4]  555 	inc	h
    000002DC D9               [ 4]  556 	exx
    000002DD 1F               [ 4]  557 	rra
    000002DE 30 05            [12]  558 	jr	nc, PLY_AKY_RRB_NIS_SAHH_AFTERENVELOPE
    000002E0 11 09 F0         [10]  559 	ld	de, #PLY_AKY_PSGREGISTER13
    000002E3 ED A0            [16]  560 	ldi
    000002E5                        561 	PLY_AKY_RRB_NIS_SAHH_AFTERENVELOPE:
    000002E5 1F               [ 4]  562 	rra
    000002E6 D0               [11]  563 	ret	nc
    000002E7                        564 	PLY_AKY_RRB_NIS_HARDWARE_SHARED_NOISEORRETRIG_ANDSTOP:
    000002E7 7E               [ 7]  565 	ld	a, (hl)
    000002E8 23               [ 6]  566 	inc	hl
    000002E9 1F               [ 4]  567 	rra
    000002EA 30 05            [12]  568 	jr	nc, PLY_AKY_RRB_NIS_S_NOR_NORETRIG
    000002EC CB FF            [ 8]  569 	set	7, a
    000002EE 32 0A F0         [13]  570 	ld	(PLY_AKY_PSGREGISTER13_RETRIG), a
    000002F1                        571 	PLY_AKY_RRB_NIS_S_NOR_NORETRIG:
    000002F1 1F               [ 4]  572 	rra
    000002F2 D0               [11]  573 	ret	nc
    000002F3 CB A8            [ 8]  574 	res	5, b
    000002F5 1F               [ 4]  575 	rra
    000002F6 D0               [11]  576 	ret	nc
    000002F7 32 06 F0         [13]  577 	ld	(PLY_AKY_PSGREGISTER6), a
    000002FA C9               [10]  578 	ret
    000002FB                        579 	PLY_AKY_RETTABLE_READREGISTERBLOCK:
    000002FBrCDr00                  580 	.dw	PLY_AKY_CHANNEL1_REGISTERBLOCK_RETURN
    000002FDrE1r00                  581 	.dw	PLY_AKY_CHANNEL2_REGISTERBLOCK_RETURN
    000002FFrF6r00                  582 	.dw	PLY_AKY_CHANNEL3_REGISTERBLOCK_RETURN
                         0000F017   583 	PLY_AKY_CHANNEL1_PTREGISTERBLOCK	= 0xf017
                         0000F011   584 	PLY_AKY_CHANNEL1_PTTRACK	= 0xf011
                         0000F003   585 	PLY_AKY_CHANNEL1_REGISTERBLOCKLINESTATE_OPCODE	= 0xf003
                         0000F000   586 	PLY_AKY_CHANNEL1_WAITBEFORENEXTREGISTERBLOCK	= 0xf000
                         0000F019   587 	PLY_AKY_CHANNEL2_PTREGISTERBLOCK	= 0xf019
                         0000F013   588 	PLY_AKY_CHANNEL2_PTTRACK	= 0xf013
                         0000F004   589 	PLY_AKY_CHANNEL2_REGISTERBLOCKLINESTATE_OPCODE	= 0xf004
                         0000F001   590 	PLY_AKY_CHANNEL2_WAITBEFORENEXTREGISTERBLOCK	= 0xf001
                         0000F01B   591 	PLY_AKY_CHANNEL3_PTREGISTERBLOCK	= 0xf01b
                         0000F015   592 	PLY_AKY_CHANNEL3_PTTRACK	= 0xf015
                         0000F005   593 	PLY_AKY_CHANNEL3_REGISTERBLOCKLINESTATE_OPCODE	= 0xf005
                         0000F002   594 	PLY_AKY_CHANNEL3_WAITBEFORENEXTREGISTERBLOCK	= 0xf002
                         0000F00F   595 	PLY_AKY_PATTERNFRAMECOUNTER	= 0xf00f
                         0000F007   596 	PLY_AKY_PSGREGISTER11	= 0xf007
                         0000F008   597 	PLY_AKY_PSGREGISTER12	= 0xf008
                         0000F009   598 	PLY_AKY_PSGREGISTER13	= 0xf009
                         0000F00A   599 	PLY_AKY_PSGREGISTER13_RETRIG	= 0xf00a
                         0000F006   600 	PLY_AKY_PSGREGISTER6	= 0xf006
                         0000F00B   601 	PLY_AKY_PTLINKER	= 0xf00b
                         0000F00D   602 	PLY_AKY_SAVESP	= 0xf00d
                                    603 ;	#	23 "C:\\Users\\reina\\OneDrive\\Documentos\\MSXgl\\engine/src/arkos/aky_player.c" 2
                                    604 ;C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/aky_player.c:573: ERROR: no line number 573 in file C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/aky_player.c
    00000301 C9               [10]  605 	ret
                                    606 ;C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/aky_player.c:577: ERROR: no line number 577 in file C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/aky_player.c
                                    607 ;	---------------------------------
                                    608 ; Function AKY_Init
                                    609 ; ---------------------------------
    00000302                        610 _AKY_Init::
                                    611 ;C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/aky_player.c:593: ERROR: no line number 593 in file C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/aky_player.c
    00000302 C1               [10]  612 	pop	bc
    00000303 3B               [ 6]  613 	dec	sp
    00000304 F1               [10]  614 	pop	af
    00000305 C5               [11]  615 	push	bc
    00000306 DD E5            [15]  616 	push	ix
    00000308 CDr00r00         [17]  617 	call	_PLY_AKY_INIT
    0000030B DD E1            [14]  618 	pop	ix
    0000030D C9               [10]  619 	ret
                                    620 ;C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/aky_player.c:594: ERROR: no line number 594 in file C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/aky_player.c
                                    621 ;C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/aky_player.c:60: ERROR: no line number 60 in file C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/aky_player.c
                                    622 ;	---------------------------------
                                    623 ; Function AKY_Decode
                                    624 ; ---------------------------------
    0000030E                        625 _AKY_Decode::
                                    626 ;C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/aky_player.c:70: ERROR: no line number 70 in file C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/aky_player.c
    0000030E AF               [ 4]  627 	xor	a
    0000030F 32r00r00         [13]  628 	ld	(_g_AKY_EndOfSong), a
    00000312 DD E5            [15]  629 	push	ix
    00000314 CDr22r00         [17]  630 	call	_PLY_AKY_PLAY
    00000317 DD E1            [14]  631 	pop	ix
    00000319 3Ar00r00         [13]  632 	ld	a, (_g_AKY_EndOfSong)
                                    633 ;C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/aky_player.c:71: ERROR: no line number 71 in file C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/arkos/aky_player.c
    0000031C C9               [10]  634 	ret
                                    635 	.area _CODE
                                    636 	.area _INITIALIZER
                                    637 	.area _CABS (ABS)
