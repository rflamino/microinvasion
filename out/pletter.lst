                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 4.2.0 #13081 (MINGW64)
                                      4 ;--------------------------------------------------------
                                      5 	.module pletter
                                      6 	.optsdcc -mz80
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _g_SLTSL
                                     12 	.globl _g_GRPACY
                                     13 	.globl _g_GRPACX
                                     14 	.globl _g_LOGOPR
                                     15 	.globl _g_CMASK
                                     16 	.globl _g_CLOC
                                     17 	.globl _g_FNKSTR
                                     18 	.globl _g_ATRBYT
                                     19 	.globl _g_BDRCLR
                                     20 	.globl _g_BAKCLR
                                     21 	.globl _g_FORCLR
                                     22 	.globl _g_CSRX
                                     23 	.globl _g_CSRY
                                     24 	.globl _g_CLIKSW
                                     25 	.globl _g_MLTPAT
                                     26 	.globl _g_MLTATR
                                     27 	.globl _g_MLTCGP
                                     28 	.globl _g_MLTCOL
                                     29 	.globl _g_MLTNAM
                                     30 	.globl _g_GRPPAT
                                     31 	.globl _g_GRPATR
                                     32 	.globl _g_GRPCGP
                                     33 	.globl _g_GRPCOL
                                     34 	.globl _g_GRPNAM
                                     35 	.globl _g_T32PAT
                                     36 	.globl _g_T32ATR
                                     37 	.globl _g_T32CGP
                                     38 	.globl _g_T32COL
                                     39 	.globl _g_T32NAM
                                     40 	.globl _g_TXTPAT
                                     41 	.globl _g_TXTATR
                                     42 	.globl _g_TXTCGP
                                     43 	.globl _g_TXTCOL
                                     44 	.globl _g_TXTNAM
                                     45 	.globl _g_CLMLST
                                     46 	.globl _g_CRTCNT
                                     47 	.globl _g_LINLEN
                                     48 	.globl _g_LINL32
                                     49 	.globl _g_LINL40
                                     50 	.globl _g_SVFFFD
                                     51 	.globl _g_RG27SAV
                                     52 	.globl _g_RG26SAV
                                     53 	.globl _g_RG25SAV
                                     54 	.globl _g_SVFFF8
                                     55 	.globl _g_MINROM
                                     56 	.globl _g_RG23SAV
                                     57 	.globl _g_RG22SAV
                                     58 	.globl _g_RG21SAV
                                     59 	.globl _g_RG20SAV
                                     60 	.globl _g_RG19SAV
                                     61 	.globl _g_RG18SAV
                                     62 	.globl _g_RG17SAV
                                     63 	.globl _g_RG16SAV
                                     64 	.globl _g_RG15SAV
                                     65 	.globl _g_RG14SAV
                                     66 	.globl _g_RG13SAV
                                     67 	.globl _g_RG12SAV
                                     68 	.globl _g_RG11SAV
                                     69 	.globl _g_RG10SAV
                                     70 	.globl _g_RG09SAV
                                     71 	.globl _g_RG08SAV
                                     72 	.globl _g_PROCNM
                                     73 	.globl _g_SLTWRK
                                     74 	.globl _g_SLTATR
                                     75 	.globl _g_SLTTBL
                                     76 	.globl _g_EXPTBL
                                     77 	.globl _g_MNROM
                                     78 	.globl _g_DRWANG
                                     79 	.globl _g_DRWSCL
                                     80 	.globl _g_DRWFLG
                                     81 	.globl _g_GYPOS
                                     82 	.globl _g_GXPOS
                                     83 	.globl _g_BRDATR
                                     84 	.globl _g_CASPRV
                                     85 	.globl _g_OLDSCR
                                     86 	.globl _g_SCRMOD
                                     87 	.globl _g_FLBMEM
                                     88 	.globl _g_KANAMD
                                     89 	.globl _g_KANAST
                                     90 	.globl _g_CAPST
                                     91 	.globl _g_CSTYLE
                                     92 	.globl _g_CSRSW
                                     93 	.globl _g_INSFLG
                                     94 	.globl _g_ESCCNT
                                     95 	.globl _g_GRPHED
                                     96 	.globl _g_WINWID
                                     97 	.globl _g_LOWLIM
                                     98 	.globl _g_INTCNT
                                     99 	.globl _g_INTVAL
                                    100 	.globl _g_JIFFY
                                    101 	.globl _g_PADX
                                    102 	.globl _g_PADY
                                    103 	.globl _g_INTFLG
                                    104 	.globl _g_RTYCNT
                                    105 	.globl _g_TRPTBL
                                    106 	.globl _g_HIMEM
                                    107 	.globl _g_BOTTOM
                                    108 	.globl _g_PATWRK
                                    109 	.globl _g_LINWRK
                                    110 	.globl _g_KEYBUF
                                    111 	.globl _g_NEWKEY
                                    112 	.globl _g_OLDKEY
                                    113 	.globl _g_CLIKFL
                                    114 	.globl _g_ONGSBF
                                    115 	.globl _g_FNKFLG
                                    116 	.globl _g_FNKSWI
                                    117 	.globl _g_CODSAV
                                    118 	.globl _g_FSTPOS
                                    119 	.globl _g_LINTTB
                                    120 	.globl _g_BASROM
                                    121 	.globl _g_ENSTOP
                                    122 	.globl _g_VCBC
                                    123 	.globl _g_VCBB
                                    124 	.globl _g_VCBA
                                    125 	.globl _g_PLYCNT
                                    126 	.globl _g_MUSICF
                                    127 	.globl _g_QUEUEN
                                    128 	.globl _g_MCLPTR
                                    129 	.globl _g_MCLLEN
                                    130 	.globl _g_SAVVOL
                                    131 	.globl _g_VOICEN
                                    132 	.globl _g_SAVSP
                                    133 	.globl _g_PRSCNT
                                    134 	.globl _g_LSTMOD
                                    135 	.globl _g_LSTCOM
                                    136 	.globl _g_COMMSK
                                    137 	.globl _g_ESTBLS
                                    138 	.globl _g_FLAGS
                                    139 	.globl _g_ERRORS
                                    140 	.globl _g_DATCNT
                                    141 	.globl _g_DEVNUM
                                    142 	.globl _g_OLDINT
                                    143 	.globl _g_OLDSTT
                                    144 	.globl _g_MEXBIh
                                    145 	.globl _g_RSIQLN
                                    146 	.globl _g_RSFCB
                                    147 	.globl _g_TOCNT
                                    148 	.globl _g_RSTMP
                                    149 	.globl _g_YSAVE
                                    150 	.globl _g_XSAVE
                                    151 	.globl _g_NORUSE
                                    152 	.globl _g_MODE
                                    153 	.globl _g_ROMA
                                    154 	.globl _g_CHRCNT
                                    155 	.globl _g_EXBRSA
                                    156 	.globl _g_AVCSAV
                                    157 	.globl _g_ACPAGE
                                    158 	.globl _g_DPPAGE
                                    159 	.globl _g_RS2IQ
                                    160 	.globl _g_VOICCQ
                                    161 	.globl _g_VOICBQ
                                    162 	.globl _g_VOICAQ
                                    163 	.globl _g_QUEBAK
                                    164 	.globl _g_QUETAB
                                    165 	.globl _g_ASPCT2
                                    166 	.globl _g_ASPCT1
                                    167 	.globl _g_HEADER
                                    168 	.globl _g_HIGH
                                    169 	.globl _g_LOW
                                    170 	.globl _g_CS240
                                    171 	.globl _g_CS120
                                    172 	.globl _g_GETPNT
                                    173 	.globl _g_PUTPNT
                                    174 	.globl _g_REPCNT
                                    175 	.globl _g_SCNCNT
                                    176 	.globl _g_FRCNEW
                                    177 	.globl _g_QUEUES
                                    178 	.globl _g_MINUPD
                                    179 	.globl _g_MAXUPD
                                    180 	.globl _g_TRGFLG
                                    181 	.globl _g_STATFL
                                    182 	.globl _g_RG7SAV
                                    183 	.globl _g_RG6SAV
                                    184 	.globl _g_RG5SAV
                                    185 	.globl _g_RG4SAV
                                    186 	.globl _g_RG3SAV
                                    187 	.globl _g_RG2SAV
                                    188 	.globl _g_RG1SAV
                                    189 	.globl _g_RG0SAV
                                    190 	.globl _g_CNSDFG
                                    191 	.globl _g_USRTAB
                                    192 	.globl _g_CLPRIM
                                    193 	.globl _g_WRPRIM
                                    194 	.globl _g_RDPRIM
                                    195 	.globl _Pletter_UnpackToRAM
                                    196 	.globl _Pletter_UnpackToVRAM
                                    197 ;--------------------------------------------------------
                                    198 ; special function registers
                                    199 ;--------------------------------------------------------
                         000000A8   200 _g_PortPrimarySlot	=	0x00a8
                         000000A9   201 _g_PortReadKeyboard	=	0x00a9
                         000000AA   202 _g_PortAccessKeyboard	=	0x00aa
                         000000AB   203 _g_PortControl	=	0x00ab
                         00000098   204 _g_VDP_DataPort	=	0x0098
                         00000099   205 _g_VDP_RegPort	=	0x0099
                         00000099   206 _g_VDP_AddrPort	=	0x0099
                         00000099   207 _g_VDP_StatPort	=	0x0099
                         0000009A   208 _g_VDP_PalPort	=	0x009a
                         0000009B   209 _g_VDP_IRegPort	=	0x009b
                         000000A0   210 _g_PSG_RegPort	=	0x00a0
                         000000A1   211 _g_PSG_DataPort	=	0x00a1
                         000000A2   212 _g_PSG_StatPort	=	0x00a2
                         00000010   213 _g_PSG_Ext_RegPort	=	0x0010
                         00000011   214 _g_PSG_Ext_DataPort	=	0x0011
                         00000012   215 _g_PSG_Ext_StatPort	=	0x0012
                         0000007C   216 _g_MSXMusic_IndexPort	=	0x007c
                         0000007D   217 _g_MSXMusic_DataPort	=	0x007d
                         000000C0   218 _g_MSXAudio_IndexPort	=	0x00c0
                         000000C1   219 _g_MSXAudio_DataPort	=	0x00c1
                         000000C2   220 _g_MSXAudio_IndexPort2	=	0x00c2
                         000000C3   221 _g_MSXAudio_DataPort2	=	0x00c3
                         000000B4   222 _g_RTC_AddrPort	=	0x00b4
                         000000B5   223 _g_RTC_DataPort	=	0x00b5
                                    224 ;--------------------------------------------------------
                                    225 ; ram data
                                    226 ;--------------------------------------------------------
                                    227 	.area _DATA
                         0000F3AE   228 _g_LINL40	=	0xf3ae
                         0000F3AF   229 _g_LINL32	=	0xf3af
                         0000F3B0   230 _g_LINLEN	=	0xf3b0
                         0000F3B1   231 _g_CRTCNT	=	0xf3b1
                         0000F3B2   232 _g_CLMLST	=	0xf3b2
                         0000F3B3   233 _g_TXTNAM	=	0xf3b3
                         0000F3B5   234 _g_TXTCOL	=	0xf3b5
                         0000F3B7   235 _g_TXTCGP	=	0xf3b7
                         0000F3B9   236 _g_TXTATR	=	0xf3b9
                         0000F3BB   237 _g_TXTPAT	=	0xf3bb
                         0000F3BD   238 _g_T32NAM	=	0xf3bd
                         0000F3BF   239 _g_T32COL	=	0xf3bf
                         0000F3C1   240 _g_T32CGP	=	0xf3c1
                         0000F3C3   241 _g_T32ATR	=	0xf3c3
                         0000F3C5   242 _g_T32PAT	=	0xf3c5
                         0000F3C7   243 _g_GRPNAM	=	0xf3c7
                         0000F3C9   244 _g_GRPCOL	=	0xf3c9
                         0000F3CB   245 _g_GRPCGP	=	0xf3cb
                         0000F3CD   246 _g_GRPATR	=	0xf3cd
                         0000F3CF   247 _g_GRPPAT	=	0xf3cf
                         0000F3D1   248 _g_MLTNAM	=	0xf3d1
                         0000F3D3   249 _g_MLTCOL	=	0xf3d3
                         0000F3D5   250 _g_MLTCGP	=	0xf3d5
                         0000F3D7   251 _g_MLTATR	=	0xf3d7
                         0000F3D9   252 _g_MLTPAT	=	0xf3d9
                         0000F3DB   253 _g_CLIKSW	=	0xf3db
                         0000F3DC   254 _g_CSRY	=	0xf3dc
                         0000F3DD   255 _g_CSRX	=	0xf3dd
                         0000F3E9   256 _g_FORCLR	=	0xf3e9
                         0000F3EA   257 _g_BAKCLR	=	0xf3ea
                         0000F3EB   258 _g_BDRCLR	=	0xf3eb
                         0000F3F2   259 _g_ATRBYT	=	0xf3f2
                         0000F87F   260 _g_FNKSTR	=	0xf87f
                         0000F92A   261 _g_CLOC	=	0xf92a
                         0000F92C   262 _g_CMASK	=	0xf92c
                         0000FB02   263 _g_LOGOPR	=	0xfb02
                         0000FCB7   264 _g_GRPACX	=	0xfcb7
                         0000FCB9   265 _g_GRPACY	=	0xfcb9
                         0000FFFF   266 _g_SLTSL	=	0xffff
                                    267 ;--------------------------------------------------------
                                    268 ; ram data
                                    269 ;--------------------------------------------------------
                                    270 	.area _INITIALIZED
                                    271 ;--------------------------------------------------------
                                    272 ; absolute external ram data
                                    273 ;--------------------------------------------------------
                                    274 	.area _DABS (ABS)
                                    275 ;--------------------------------------------------------
                                    276 ; global & static initialisations
                                    277 ;--------------------------------------------------------
                                    278 	.area _HOME
                                    279 	.area _GSINIT
                                    280 	.area _GSFINAL
                                    281 	.area _GSINIT
                                    282 ;--------------------------------------------------------
                                    283 ; Home
                                    284 ;--------------------------------------------------------
                                    285 	.area _HOME
                                    286 	.area _HOME
                                    287 ;--------------------------------------------------------
                                    288 ; code
                                    289 ;--------------------------------------------------------
                                    290 	.area _CODE
                                    291 ;C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/compress/pletter.c:92: void Pletter_UnpackToRAM(const void* source, void* dest) __naked
                                    292 ;	---------------------------------
                                    293 ; Function Pletter_UnpackToRAM
                                    294 ; ---------------------------------
    00000000                        295 _Pletter_UnpackToRAM::
                                    296 ;C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/compress/pletter.c:237: __endasm;
    00000000 DD E5            [15]  297 	push	ix
    00000002 CDr08r00         [17]  298 	call	unpack
    00000005 DD E1            [14]  299 	pop	ix
    00000007 C9               [10]  300 	ret
    00000008                        301 	unpack:
    00000008 7E               [ 7]  302 	ld	a, (hl)
    00000009 23               [ 6]  303 	inc	hl
    0000000A D9               [ 4]  304 	exx
    0000000B 11 00 00         [10]  305 	ld	de, #0
    0000000E 87               [ 4]  306 	add	a, a
    0000000F 3C               [ 4]  307 	inc	a
    00000010 CB 13            [ 8]  308 	rl	e
    00000012 87               [ 4]  309 	add	a, a
    00000013 CB 13            [ 8]  310 	rl	e
    00000015 87               [ 4]  311 	add	a, a
    00000016 CB 13            [ 8]  312 	rl	e
    00000018 CB 13            [ 8]  313 	rl	e
    0000001A 21rA6r00         [10]  314 	ld	hl, #modes
    0000001D 19               [11]  315 	add	hl, de
    0000001E 5E               [ 7]  316 	ld	e, (hl)
    0000001F DD 6B                  317 	.db	0xDD, 0x6B
    00000021 23               [ 6]  318 	inc	hl
    00000022 5E               [ 7]  319 	ld	e, (hl)
    00000023 DD 63                  320 	.db	0xDD, 0x63
    00000025 1E 01            [ 7]  321 	ld	e, #1
    00000027 D9               [ 4]  322 	exx
    00000028 FD 21r2Er00      [14]  323 	ld	iy, #loop
    0000002C                        324 	literal:
    0000002C ED A0            [16]  325 	ldi
    0000002E                        326 	loop:
    0000002E 87               [ 4]  327 	add	a, a
    0000002F CCr9Cr00         [17]  328 	call	z, getbit
    00000032 30 F8            [12]  329 	jr	nc, literal
    00000034 D9               [ 4]  330 	exx
    00000035 62               [ 4]  331 	ld	h, d
    00000036 6B               [ 4]  332 	ld	l, e
    00000037                        333 	getlen:
    00000037 87               [ 4]  334 	add	a
    00000038 CCrA0r00         [17]  335 	call	z, getbitexx
    0000003B 30 1B            [12]  336 	jr	nc, getlen_lenok
    0000003D                        337 	getlen_lus:
    0000003D 87               [ 4]  338 	add	a
    0000003E CCrA0r00         [17]  339 	call	z, getbitexx
    00000041 ED 6A            [15]  340 	adc	hl, hl
    00000043 D8               [11]  341 	ret	c
    00000044 87               [ 4]  342 	add	a
    00000045 CCrA0r00         [17]  343 	call	z, getbitexx
    00000048 30 0E            [12]  344 	jr	nc, getlen_lenok
    0000004A 87               [ 4]  345 	add	a
    0000004B CCrA0r00         [17]  346 	call	z, getbitexx
    0000004E ED 6A            [15]  347 	adc	hl, hl
    00000050 D8               [11]  348 	ret	c
    00000051 87               [ 4]  349 	add	a
    00000052 CCrA0r00         [17]  350 	call	z, getbitexx
    00000055 DAr3Dr00         [10]  351 	jp	c, getlen_lus
    00000058                        352 	getlen_lenok:
    00000058 23               [ 6]  353 	inc	hl
    00000059 D9               [ 4]  354 	exx
    0000005A 4E               [ 7]  355 	ld	c, (hl)
    0000005B 23               [ 6]  356 	inc	hl
    0000005C 06 00            [ 7]  357 	ld	b, #0
    0000005E CB 79            [ 8]  358 	bit	7, c
    00000060 CAr8Dr00         [10]  359 	jp	z, offsok
    00000063 DD E9            [ 8]  360 	jp	(ix)
    00000065                        361 	mode6:
    00000065 87               [ 4]  362 	add	a
    00000066 CCr9Cr00         [17]  363 	call	z, getbit
    00000069 CB 10            [ 8]  364 	rl	b
    0000006B                        365 	mode5:
    0000006B 87               [ 4]  366 	add	a
    0000006C CCr9Cr00         [17]  367 	call	z, getbit
    0000006F CB 10            [ 8]  368 	rl	b
    00000071                        369 	mode4:
    00000071 87               [ 4]  370 	add	a
    00000072 CCr9Cr00         [17]  371 	call	z, getbit
    00000075 CB 10            [ 8]  372 	rl	b
    00000077                        373 	mode3:
    00000077 87               [ 4]  374 	add	a
    00000078 CCr9Cr00         [17]  375 	call	z, getbit
    0000007B CB 10            [ 8]  376 	rl	b
    0000007D                        377 	mode2:
    0000007D 87               [ 4]  378 	add	a
    0000007E CCr9Cr00         [17]  379 	call	z, getbit
    00000081 CB 10            [ 8]  380 	rl	b
    00000083 87               [ 4]  381 	add	a
    00000084 CCr9Cr00         [17]  382 	call	z, getbit
    00000087 30 04            [12]  383 	jr	nc, offsok
    00000089 B7               [ 4]  384 	or	a
    0000008A 04               [ 4]  385 	inc	b
    0000008B CB B9            [ 8]  386 	res	7, c
    0000008D                        387 	offsok:
    0000008D 03               [ 6]  388 	inc	bc
    0000008E E5               [11]  389 	push	hl
    0000008F D9               [ 4]  390 	exx
    00000090 E5               [11]  391 	push	hl
    00000091 D9               [ 4]  392 	exx
    00000092 6B               [ 4]  393 	ld	l, e
    00000093 62               [ 4]  394 	ld	h, d
    00000094 ED 42            [15]  395 	sbc	hl, bc
    00000096 C1               [10]  396 	pop	bc
    00000097 ED B0            [21]  397 	ldir
    00000099 E1               [10]  398 	pop	hl
    0000009A FD E9            [ 8]  399 	jp	(iy)
    0000009C                        400 	getbit:
    0000009C 7E               [ 7]  401 	ld	a, (hl)
    0000009D 23               [ 6]  402 	inc	hl
    0000009E 17               [ 4]  403 	rla
    0000009F C9               [10]  404 	ret
    000000A0                        405 	getbitexx:
    000000A0 D9               [ 4]  406 	exx
    000000A1 7E               [ 7]  407 	ld	a, (hl)
    000000A2 23               [ 6]  408 	inc	hl
    000000A3 D9               [ 4]  409 	exx
    000000A4 17               [ 4]  410 	rla
    000000A5 C9               [10]  411 	ret
    000000A6                        412 	modes:
    000000A6r8Dr00                  413 	.dw	offsok
    000000A8r7Dr00                  414 	.dw	mode2
    000000AAr77r00                  415 	.dw	mode3
    000000ACr71r00                  416 	.dw	mode4
    000000AEr6Br00                  417 	.dw	mode5
    000000B0r65r00                  418 	.dw	mode6
                                    419 ;C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/compress/pletter.c:238: }
                                    420 ;C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/compress/pletter.c:243: void Pletter_UnpackToVRAM(const void* source, u16 dest)
                                    421 ;	---------------------------------
                                    422 ; Function Pletter_UnpackToVRAM
                                    423 ; ---------------------------------
    000000B2                        424 _Pletter_UnpackToVRAM::
                                    425 ;C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/compress/pletter.c:505: __endasm;
    000000B2 DD E5            [15]  426 	push	ix
    000000B4 7B               [ 4]  427 	ld	a, e
    000000B5 D3 99            [11]  428 	out	(0x99), a
    000000B7 7A               [ 4]  429 	ld	a, d
    000000B8 F6 40            [ 7]  430 	or	#0x40
    000000BA D3 99            [11]  431 	out	(0x99), a
    000000BC 7E               [ 7]  432 	ld	a, (hl)
    000000BD 23               [ 6]  433 	inc	hl
    000000BE D9               [ 4]  434 	exx
    000000BF 11 00 00         [10]  435 	ld	de, #0
    000000C2 87               [ 4]  436 	add	a, a
    000000C3 3C               [ 4]  437 	inc	a
    000000C4 CB 13            [ 8]  438 	rl	e
    000000C6 87               [ 4]  439 	add	a, a
    000000C7 CB 13            [ 8]  440 	rl	e
    000000C9 87               [ 4]  441 	add	a, a
    000000CA CB 13            [ 8]  442 	rl	e
    000000CC CB 13            [ 8]  443 	rl	e
    000000CE 21r87r01         [10]  444 	ld	hl, #v_modes
    000000D1 19               [11]  445 	add	hl, de
    000000D2 5E               [ 7]  446 	ld	e, (hl)
    000000D3 DD 6B                  447 	.db	0xDD, 0x6B
    000000D5 23               [ 6]  448 	inc	hl
    000000D6 5E               [ 7]  449 	ld	e, (hl)
    000000D7 DD 63                  450 	.db	0xDD, 0x63
    000000D9 1E 01            [ 7]  451 	ld	e, #1
    000000DB D9               [ 4]  452 	exx
    000000DC FD 21rE5r00      [14]  453 	ld	iy, #v_loop
    000000E0                        454 	v_literal:
    000000E0 0E 98            [ 7]  455 	ld	c, #0x98
    000000E2 ED A3            [16]  456 	outi
    000000E4 13               [ 6]  457 	inc	de
    000000E5                        458 	v_loop:
    000000E5 87               [ 4]  459 	add	a, a
    000000E6 CCr9Cr00         [17]  460 	call	z, getbit
    000000E9 30 F5            [12]  461 	jr	nc, v_literal
    000000EB D9               [ 4]  462 	exx
    000000EC 62               [ 4]  463 	ld	h, d
    000000ED 6B               [ 4]  464 	ld	l, e
    000000EE                        465 	v_getlen:
    000000EE 87               [ 4]  466 	add	a, a
    000000EF CCrA0r00         [17]  467 	call	z, getbitexx
    000000F2 30 1D            [12]  468 	jr	nc, v_lenok
    000000F4                        469 	v_lus:
    000000F4 87               [ 4]  470 	add	a, a
    000000F5 CCrA0r00         [17]  471 	call	z, getbitexx
    000000F8 ED 6A            [15]  472 	adc	hl, hl
    000000FA D8               [11]  473 	ret	c
    000000FB 87               [ 4]  474 	add	a, a
    000000FC CCrA0r00         [17]  475 	call	z, getbitexx
    000000FF 30 10            [12]  476 	jr	nc, v_lenok
    00000101 87               [ 4]  477 	add	a, a
    00000102 CCrA0r00         [17]  478 	call	z, getbitexx
    00000105 ED 6A            [15]  479 	adc	hl, hl
    00000107 DAr84r01         [10]  480 	jp	c, v_Depack_out
    0000010A 87               [ 4]  481 	add	a, a
    0000010B CCrA0r00         [17]  482 	call	z, getbitexx
    0000010E DArF4r00         [10]  483 	jp	c, v_lus
    00000111                        484 	v_lenok:
    00000111 23               [ 6]  485 	inc	hl
    00000112 D9               [ 4]  486 	exx
    00000113 4E               [ 7]  487 	ld	c, (hl)
    00000114 23               [ 6]  488 	inc	hl
    00000115 06 00            [ 7]  489 	ld	b, #0
    00000117 CB 79            [ 8]  490 	bit	7, c
    00000119 CAr4Cr01         [10]  491 	jp	z, v_offsok
    0000011C DD E9            [ 8]  492 	jp	(ix)
    0000011E                        493 	v_mode7:
    0000011E 87               [ 4]  494 	add	a, a
    0000011F CCr9Cr00         [17]  495 	call	z, getbit
    00000122 CB 10            [ 8]  496 	rl	b
    00000124                        497 	v_mode6:
    00000124 87               [ 4]  498 	add	a, a
    00000125 CCr9Cr00         [17]  499 	call	z, getbit
    00000128 CB 10            [ 8]  500 	rl	b
    0000012A                        501 	v_mode5:
    0000012A 87               [ 4]  502 	add	a, a
    0000012B CCr9Cr00         [17]  503 	call	z, getbit
    0000012E CB 10            [ 8]  504 	rl	b
    00000130                        505 	v_mode4:
    00000130 87               [ 4]  506 	add	a, a
    00000131 CCr9Cr00         [17]  507 	call	z, getbit
    00000134 CB 10            [ 8]  508 	rl	b
    00000136                        509 	v_mode3:
    00000136 87               [ 4]  510 	add	a, a
    00000137 CCr9Cr00         [17]  511 	call	z, getbit
    0000013A CB 10            [ 8]  512 	rl	b
    0000013C                        513 	v_mode2:
    0000013C 87               [ 4]  514 	add	a, a
    0000013D CCr9Cr00         [17]  515 	call	z, getbit
    00000140 CB 10            [ 8]  516 	rl	b
    00000142 87               [ 4]  517 	add	a, a
    00000143 CCr9Cr00         [17]  518 	call	z, getbit
    00000146 30 04            [12]  519 	jr	nc, v_offsok
    00000148 B7               [ 4]  520 	or	a
    00000149 04               [ 4]  521 	inc	b
    0000014A CB B9            [ 8]  522 	res	7, c
    0000014C                        523 	v_offsok:
    0000014C 03               [ 6]  524 	inc	bc
    0000014D E5               [11]  525 	push	hl
    0000014E D9               [ 4]  526 	exx
    0000014F E5               [11]  527 	push	hl
    00000150 D9               [ 4]  528 	exx
    00000151 6B               [ 4]  529 	ld	l, e
    00000152 62               [ 4]  530 	ld	h, d
    00000153 ED 42            [15]  531 	sbc	hl, bc
    00000155 C1               [10]  532 	pop	bc
    00000156 F5               [11]  533 	push	af
    00000157                        534 	v_offsok_loop:
    00000157 7D               [ 4]  535 	ld	a, l
                                    536 	.macro	PLETTER_WRITE_12CC
                                    537 	di
                                    538 	out	(0x99), a
                                    539 	ld	a, h
                                    540 	out	(0x99), a
                                    541 	in	a, (0x98)
                                    542 	ex	af, af' ;'
                                    543 	ld	a, e
                                    544 	out	(0x99), a
                                    545 	ld	a, d
                                    546 	or	#0x40
                                    547 	out	(0x99), a
                                    548 	ex	af, af' ;'
                                    549 	ei
                                    550 	out	(0x98), a
                                    551 	.endm
                                    552 	.macro	PLETTER_WRITE_17CC
                                    553 	di
                                    554 	out	(0x99), a
                                    555 	ld	a, h
                                    556 	out	(0x99), a
                                    557 	nop
                                    558 	in	a, (0x98)
                                    559 	ex	af, af' ;'
                                    560 	ld	a, e
                                    561 	out	(0x99), a
                                    562 	ld	a, d
                                    563 	or	#0x40
                                    564 	out	(0x99), a
                                    565 	ex	af, af' ;'
                                    566 	ei
                                    567 	out	(0x98), a
                                    568 	.endm
                                    569 	.macro	PLETTER_WRITE_22CC
                                    570 	di
                                    571 	out	(0x99), a
                                    572 	ld	a, h
                                    573 	nop
                                    574 	out	(0x99), a
                                    575 	nop
                                    576 	nop
                                    577 	in	a, (0x98)
                                    578 	ex	af, af' ;'
                                    579 	ld	a, e
                                    580 	out	(0x99), a
                                    581 	ld	a, d
                                    582 	or	#0x40
                                    583 	out	(0x99), a
                                    584 	ex	af, af' ;'
                                    585 	nop
                                    586 	ei
                                    587 	out	(0x98), a
                                    588 	.endm
                                    589 	.macro	PLETTER_WRITE_30CC
                                    590 	di
                                    591 	out	(0x99), a
                                    592 	ld	a, h
                                    593 	nop
                                    594 	or	#0
                                    595 	out	(0x99), a
                                    596 	nop
                                    597 	nop
                                    598 	or	#0
                                    599 	in	a, (0x98)
                                    600 	ex	af, af' ;'
                                    601 	ld	a, e
                                    602 	or	#0
                                    603 	out	(0x99), a
                                    604 	ld	a, d
                                    605 	nop
                                    606 	or	#0x40
                                    607 	out	(0x99), a
                                    608 	ex	af, af' ;'
                                    609 	nop
                                    610 	or	#0
                                    611 	ei
                                    612 	out	(0x98), a
                                    613 	.endm
    00000158                        614 	PLETTER_WRITE_30CC
    00000158 F3               [ 4]    1 	di
    00000159 D3 99            [11]    2 	out	(0x99), a
    0000015B 7C               [ 4]    3 	ld	a, h
    0000015C 00               [ 4]    4 	nop
    0000015D F6 00            [ 7]    5 	or	#0
    0000015F D3 99            [11]    6 	out	(0x99), a
    00000161 00               [ 4]    7 	nop
    00000162 00               [ 4]    8 	nop
    00000163 F6 00            [ 7]    9 	or	#0
    00000165 DB 98            [11]   10 	in	a, (0x98)
    00000167 08               [ 4]   11 	ex	af, af' ;'
    00000168 7B               [ 4]   12 	ld	a, e
    00000169 F6 00            [ 7]   13 	or	#0
    0000016B D3 99            [11]   14 	out	(0x99), a
    0000016D 7A               [ 4]   15 	ld	a, d
    0000016E 00               [ 4]   16 	nop
    0000016F F6 40            [ 7]   17 	or	#0x40
    00000171 D3 99            [11]   18 	out	(0x99), a
    00000173 08               [ 4]   19 	ex	af, af' ;'
    00000174 00               [ 4]   20 	nop
    00000175 F6 00            [ 7]   21 	or	#0
    00000177 FB               [ 4]   22 	ei
    00000178 D3 98            [11]   23 	out	(0x98), a
    0000017A 13               [ 6]  615 	inc	de
    0000017B ED A1            [16]  616 	cpi
    0000017D EAr57r01         [10]  617 	jp	pe, v_offsok_loop
    00000180 F1               [10]  618 	pop	af
    00000181 E1               [10]  619 	pop	hl
    00000182 FD E9            [ 8]  620 	jp	(iy)
    00000184                        621 	v_Depack_out:
    00000184 DD E1            [14]  622 	pop	ix
    00000186 C9               [10]  623 	ret
    00000187                        624 	v_modes:
    00000187r4Cr01                  625 	.dw	v_offsok
    00000189r3Cr01                  626 	.dw	v_mode2
    0000018Br36r01                  627 	.dw	v_mode3
    0000018Dr30r01                  628 	.dw	v_mode4
    0000018Fr2Ar01                  629 	.dw	v_mode5
    00000191r24r01                  630 	.dw	v_mode6
    00000193r1Er01                  631 	.dw	v_mode7
                                    632 ;C:\Users\reina\OneDrive\Documentos\MSXgl\engine/src/compress/pletter.c:506: }
    00000195 C9               [10]  633 	ret
                         0000F380   634 _g_RDPRIM	=	0xf380
                         0000F385   635 _g_WRPRIM	=	0xf385
                         0000F38C   636 _g_CLPRIM	=	0xf38c
                         0000F39A   637 _g_USRTAB	=	0xf39a
                         0000F3DE   638 _g_CNSDFG	=	0xf3de
                         0000F3DF   639 _g_RG0SAV	=	0xf3df
                         0000F3E0   640 _g_RG1SAV	=	0xf3e0
                         0000F3E1   641 _g_RG2SAV	=	0xf3e1
                         0000F3E2   642 _g_RG3SAV	=	0xf3e2
                         0000F3E3   643 _g_RG4SAV	=	0xf3e3
                         0000F3E4   644 _g_RG5SAV	=	0xf3e4
                         0000F3E5   645 _g_RG6SAV	=	0xf3e5
                         0000F3E6   646 _g_RG7SAV	=	0xf3e6
                         0000F3E7   647 _g_STATFL	=	0xf3e7
                         0000F3E8   648 _g_TRGFLG	=	0xf3e8
                         0000F3EC   649 _g_MAXUPD	=	0xf3ec
                         0000F3EF   650 _g_MINUPD	=	0xf3ef
                         0000F3F3   651 _g_QUEUES	=	0xf3f3
                         0000F3F5   652 _g_FRCNEW	=	0xf3f5
                         0000F3F6   653 _g_SCNCNT	=	0xf3f6
                         0000F3F7   654 _g_REPCNT	=	0xf3f7
                         0000F3F8   655 _g_PUTPNT	=	0xf3f8
                         0000F3FA   656 _g_GETPNT	=	0xf3fa
                         0000F3FC   657 _g_CS120	=	0xf3fc
                         0000F401   658 _g_CS240	=	0xf401
                         0000F406   659 _g_LOW	=	0xf406
                         0000F408   660 _g_HIGH	=	0xf408
                         0000F40A   661 _g_HEADER	=	0xf40a
                         0000F40B   662 _g_ASPCT1	=	0xf40b
                         0000F40D   663 _g_ASPCT2	=	0xf40d
                         0000F959   664 _g_QUETAB	=	0xf959
                         0000F971   665 _g_QUEBAK	=	0xf971
                         0000F975   666 _g_VOICAQ	=	0xf975
                         0000F9F5   667 _g_VOICBQ	=	0xf9f5
                         0000FA75   668 _g_VOICCQ	=	0xfa75
                         0000FAF5   669 _g_RS2IQ	=	0xfaf5
                         0000FAF5   670 _g_DPPAGE	=	0xfaf5
                         0000FAF6   671 _g_ACPAGE	=	0xfaf6
                         0000FAF7   672 _g_AVCSAV	=	0xfaf7
                         0000FAF8   673 _g_EXBRSA	=	0xfaf8
                         0000FAF9   674 _g_CHRCNT	=	0xfaf9
                         0000FAFA   675 _g_ROMA	=	0xfafa
                         0000FAFC   676 _g_MODE	=	0xfafc
                         0000FAFD   677 _g_NORUSE	=	0xfafd
                         0000FAFE   678 _g_XSAVE	=	0xfafe
                         0000FB00   679 _g_YSAVE	=	0xfb00
                         0000FB03   680 _g_RSTMP	=	0xfb03
                         0000FB03   681 _g_TOCNT	=	0xfb03
                         0000FB04   682 _g_RSFCB	=	0xfb04
                         0000FB06   683 _g_RSIQLN	=	0xfb06
                         0000FB07   684 _g_MEXBIh	=	0xfb07
                         0000FB0C   685 _g_OLDSTT	=	0xfb0c
                         0000FB0C   686 _g_OLDINT	=	0xfb0c
                         0000FB16   687 _g_DEVNUM	=	0xfb16
                         0000FB17   688 _g_DATCNT	=	0xfb17
                         0000FB1A   689 _g_ERRORS	=	0xfb1a
                         0000FB1B   690 _g_FLAGS	=	0xfb1b
                         0000FB1C   691 _g_ESTBLS	=	0xfb1c
                         0000FB1D   692 _g_COMMSK	=	0xfb1d
                         0000FB1E   693 _g_LSTCOM	=	0xfb1e
                         0000FB1F   694 _g_LSTMOD	=	0xfb1f
                         0000FB35   695 _g_PRSCNT	=	0xfb35
                         0000FB36   696 _g_SAVSP	=	0xfb36
                         0000FB38   697 _g_VOICEN	=	0xfb38
                         0000FB39   698 _g_SAVVOL	=	0xfb39
                         0000FB3B   699 _g_MCLLEN	=	0xfb3b
                         0000FB3C   700 _g_MCLPTR	=	0xfb3c
                         0000FB3E   701 _g_QUEUEN	=	0xfb3e
                         0000FB3F   702 _g_MUSICF	=	0xfb3f
                         0000FB40   703 _g_PLYCNT	=	0xfb40
                         0000FB41   704 _g_VCBA	=	0xfb41
                         0000FB66   705 _g_VCBB	=	0xfb66
                         0000FB8B   706 _g_VCBC	=	0xfb8b
                         0000FBB0   707 _g_ENSTOP	=	0xfbb0
                         0000FBB1   708 _g_BASROM	=	0xfbb1
                         0000FBB2   709 _g_LINTTB	=	0xfbb2
                         0000FBCA   710 _g_FSTPOS	=	0xfbca
                         0000FBCC   711 _g_CODSAV	=	0xfbcc
                         0000FBCD   712 _g_FNKSWI	=	0xfbcd
                         0000FBCE   713 _g_FNKFLG	=	0xfbce
                         0000FBD8   714 _g_ONGSBF	=	0xfbd8
                         0000FBD9   715 _g_CLIKFL	=	0xfbd9
                         0000FBDA   716 _g_OLDKEY	=	0xfbda
                         0000FBE5   717 _g_NEWKEY	=	0xfbe5
                         0000FBF0   718 _g_KEYBUF	=	0xfbf0
                         0000FC18   719 _g_LINWRK	=	0xfc18
                         0000FC40   720 _g_PATWRK	=	0xfc40
                         0000FC48   721 _g_BOTTOM	=	0xfc48
                         0000FC4A   722 _g_HIMEM	=	0xfc4a
                         0000FC4C   723 _g_TRPTBL	=	0xfc4c
                         0000FC9A   724 _g_RTYCNT	=	0xfc9a
                         0000FC9B   725 _g_INTFLG	=	0xfc9b
                         0000FC9C   726 _g_PADY	=	0xfc9c
                         0000FC9D   727 _g_PADX	=	0xfc9d
                         0000FC9E   728 _g_JIFFY	=	0xfc9e
                         0000FCA0   729 _g_INTVAL	=	0xfca0
                         0000FCA2   730 _g_INTCNT	=	0xfca2
                         0000FCA4   731 _g_LOWLIM	=	0xfca4
                         0000FCA5   732 _g_WINWID	=	0xfca5
                         0000FCA6   733 _g_GRPHED	=	0xfca6
                         0000FCA7   734 _g_ESCCNT	=	0xfca7
                         0000FCA8   735 _g_INSFLG	=	0xfca8
                         0000FCA9   736 _g_CSRSW	=	0xfca9
                         0000FCAA   737 _g_CSTYLE	=	0xfcaa
                         0000FCAB   738 _g_CAPST	=	0xfcab
                         0000FCAC   739 _g_KANAST	=	0xfcac
                         0000FCAD   740 _g_KANAMD	=	0xfcad
                         0000FCAE   741 _g_FLBMEM	=	0xfcae
                         0000FCAF   742 _g_SCRMOD	=	0xfcaf
                         0000FCB0   743 _g_OLDSCR	=	0xfcb0
                         0000FCB1   744 _g_CASPRV	=	0xfcb1
                         0000FCB2   745 _g_BRDATR	=	0xfcb2
                         0000FCB3   746 _g_GXPOS	=	0xfcb3
                         0000FCB5   747 _g_GYPOS	=	0xfcb5
                         0000FCBB   748 _g_DRWFLG	=	0xfcbb
                         0000FCBC   749 _g_DRWSCL	=	0xfcbc
                         0000FCBD   750 _g_DRWANG	=	0xfcbd
                         0000FCC1   751 _g_MNROM	=	0xfcc1
                         0000FCC1   752 _g_EXPTBL	=	0xfcc1
                         0000FCC5   753 _g_SLTTBL	=	0xfcc5
                         0000FCC9   754 _g_SLTATR	=	0xfcc9
                         0000FD09   755 _g_SLTWRK	=	0xfd09
                         0000FD89   756 _g_PROCNM	=	0xfd89
                         0000FFE7   757 _g_RG08SAV	=	0xffe7
                         0000FFE8   758 _g_RG09SAV	=	0xffe8
                         0000FFE9   759 _g_RG10SAV	=	0xffe9
                         0000FFEA   760 _g_RG11SAV	=	0xffea
                         0000FFEB   761 _g_RG12SAV	=	0xffeb
                         0000FFEC   762 _g_RG13SAV	=	0xffec
                         0000FFED   763 _g_RG14SAV	=	0xffed
                         0000FFEE   764 _g_RG15SAV	=	0xffee
                         0000FFEF   765 _g_RG16SAV	=	0xffef
                         0000FFF0   766 _g_RG17SAV	=	0xfff0
                         0000FFF1   767 _g_RG18SAV	=	0xfff1
                         0000FFF2   768 _g_RG19SAV	=	0xfff2
                         0000FFF3   769 _g_RG20SAV	=	0xfff3
                         0000FFF4   770 _g_RG21SAV	=	0xfff4
                         0000FFF5   771 _g_RG22SAV	=	0xfff5
                         0000FFF6   772 _g_RG23SAV	=	0xfff6
                         0000FFF7   773 _g_MINROM	=	0xfff7
                         0000FFF8   774 _g_SVFFF8	=	0xfff8
                         0000FFFA   775 _g_RG25SAV	=	0xfffa
                         0000FFFB   776 _g_RG26SAV	=	0xfffb
                         0000FFFC   777 _g_RG27SAV	=	0xfffc
                         0000FFFD   778 _g_SVFFFD	=	0xfffd
                                    779 	.area _CODE
                                    780 	.area _INITIALIZER
                                    781 	.area _CABS (ABS)
